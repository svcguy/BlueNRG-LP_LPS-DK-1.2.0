<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP/BlueNRG-LPS Development kits (STSW-BNRGLP-DK): Release Notes 1_0_0 / 10-July-2020 (BlueNRG-BLE Stack Library v3.0)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP/BlueNRG-LPS Development kits (STSW-BNRGLP-DK)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Release Notes 1_0_0 / 10-July-2020 (BlueNRG-BLE Stack Library v3.0) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="S1"></a>
New Features/Changes</h1>
<ul>
<li>
This section lists the new features/changes compared to previous BlueNRG-LP DK release: <br />
<ul>
<li>
<p class="startli">STSW-BNRGLP-DK, BlueNRG-LP SDK v1.0.0 release supporting BlueNRG-BLE Stack Library v3.0 (Bluetooth Low Energy stack).</p>
<p class="endli"></p>
</li>
<li>
NOTES: <ul>
<li>
<b>Start menu folder for STSW-BNRGLP-DK v1.0.0, SW package is ST BlueNRG-LP DK 1.0.0.</b> </li>
<li>
All SW package folders (Application, Docs, Drivers, Firmware, Middlewares, Project, Utility) are located, by default, under C:\Users\{username}\ST\BlueNRG-LP DK 1.0.0: <ul>
<li>
"Release folder" on STSW-BNRGLP-DK v1.0.0 "Start Menu" allows to get direct access to such folders. </li>
</ul>
</li>
<li>
In Windows 7 OS (not in Windows 10), in order to be able to interact with the BlueNRG-LP platform Virtual COM port, the installation of the driver files available in the following web site is required: <ul>
<li>
<a href="https://os.mbed.com/docs/mbed-os/v6.0/program-setup/windows-serial-driver.html">https://os.mbed.com/docs/mbed-os/v6.0/program-setup/windows-serial-driver.html</a> </li>
<li>
Follow the installation instructions included in the web page.</li>
</ul>
</li>
<li>
<b> Before using a BlueNRG-LP platform, please align the <a href="../USB_CMSISDAP_FW_upgrade_procedure/USB_CMSISDAP_FW_upgrade_procedure.html">USB_CMSISDAP </a> to the latest available version 1.6</b>. </li>
<li>
After upgrading the USB_CMSISDAP FW, please unplug and replug again the BlueNRG-LP, STEVAL platform on a PC USB port, and wait for complete proper board recognition with associated PC drivers. </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S11"></a>
Navigator PC applications</h2>
<ul>
<li>
BlueNRG-LP Navigator v1.0.0 supporting BlueNRG-LP device. <ul>
<li>
Supported platforms: <ul>
<li>
BlueNRG-LP (QFN48 package) development kit (order code: STEVAL-IDB011V1)</li>
</ul>
</li>
<li>
NOTES: <ul>
<li>
BlueNRG-LP Navigator v1.0.0 can be launched through the related tab on BlueNRG-LP SDK v1.0.0 Start Menu or through the BlueNRG-LP_Navigator_RUN.bat available on Application folder. </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S12"></a>
Radio Init Wizard PC application</h2>
<ul>
<li>
BlueNRG-LP Radio Init Parameters Wizard supporting BlueNRG-LP devices and Bluetooth LE stacks v3.x: <ul>
<li>
It allows to properly configure the BLE_STACK_Init() API parameters in an user friendly way and to generate the related application *_config.h file to be used on user C application. </li>
<li>
Please refer to the following documents for more information about the Bluetooth LE radio initialization parameters to be configured: <ul>
<li>
Bluetooth LE Radio Init Parameters Wizard HTML documentation </li>
<li>
Bluetooth LE stack v3.x Stack Memory Manager HTML documentation </li>
<li>
GATT database size guidelines HTML documentation</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S13"></a>
PC application/utilities (available on standalone SW packages)</h2>
<ul>
<li>
BlueNRG GUI SW package (STSW-BNRGUI): it contains the BlueNRG GUI PC application and script launcher utility supporting also BlueNRG-LP device. </li>
<li>
BlueNRG-X Flasher SW package (STSW-BNRGFLASHER): it contains PC utilities for device Flash read, erase, verify and programming operations. </li>
<li>
BlueNRG current consumption estimation tool SW package (STSW-BNRG001): it provides a way to predict the current consumption of the device. </li>
</ul>
<h1><a class="anchor" id="S2"></a>
Solved Issues</h1>
<ul>
<li>
This section lists the solved issues compared to previous BlueNRG-LP DK release: <br />
 <ul>
<li>
Not applicable: first official release. </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="S3"></a>
SW Package Contents</h1>
<ul>
<li>
BlueNRG-LP Bluetooth Low Energy (LE) stack binary library and header files </li>
<li>
BlueNRG-LP Bluetooth Low Energy (LE) network co-processor for BlueNRG GUI (UART, SPI mode) reference applications (DTM, Beacon, Serial Port Master and Slave, Sensor demo)  </li>
<li>
BlueNRG-LP Bluetooth Low Energy stack APIs and events callbacks HTML documentation </li>
<li>
BlueNRG-LP Bluetooth Low Energy stack application framework, crypto library and NVM management </li>
<li>
BlueNRG-LP Master/Central library APIs and HTML documentation </li>
<li>
BlueNRG-LP Bluetooth Low Energy demonstration applications (header, sources and toolchains projects) + HTML documentation </li>
<li>
BlueNRG-LP Bluetooth Low Energy demonstration applications prebuilt images </li>
<li>
BlueNRG-LP Bluetooth Low Energy (LE) network co-processor demonstration applications  </li>
<li>
BlueNRG-LP CMSIS files </li>
<li>
BlueNRG-LP FreeRTOS files </li>
<li>
BlueNRG-LP peripherals LL, HAL drivers + HTML documentation </li>
<li>
BlueNRG-LP peripherals virtual timer drivers + HTML documentation </li>
<li>
BlueNRG-LP peripherals drivers LL, HAL and MIX examples (header, sources and toolchains projects) + HTML documentation </li>
<li>
BlueNRG-LP peripherals drivers examples prebuilt images </li>
<li>
BlueNRG-LP SDK and Middlewares, HAL drivers + HTML documentation </li>
<li>
BlueNRG-LP GATT database size guidelines HTML documentation  </li>
<li>
BlueNRG-LP Applications debugging guidelines HTML documentation  </li>
<li>
BlueNRG-LP DK key resources HTML documentation  </li>
<li>
BlueNRG-LP Navigator PC applications:  <ul>
<li>
It provides an interactive, simple and user friendly interface to the resources available within the BlueNRG-LP DK SW package: <ul>
<li>
BlueNRG-LP Bluetooth Low Energy (LE) Demonstration Applications </li>
<li>
BlueNRG-LP Peripherals LL, HAL, MIX Examples </li>
<li>
BlueNRG-LP 2.4 GHz Proprietary Radio Examples </li>
<li>
BlueNRG-LP Development Kits </li>
<li>
Release Notes </li>
<li>
License Files</li>
</ul>
</li>
</ul>
</li>
<li>
BlueNRG-LP Radio Init Wizard PC application <ul>
<li>
It allows the define the BlueNRG-LP radio initialization parameters. </li>
</ul>
</li>
<li>
STM32L - BlueNRG-LP network co-processor setup and framework HTML documentation (UART) </li>
<li>
STM32L - BlueNRG-LP network co-processor APIs/events HTML documentation </li>
<li>
USB-CMISDAP.hex binary image v1.6 </li>
<li>
BlueNRG-LP secure bootloader utilities (refer to BlueNRG-LP UART Bootloader Protocol Application Note (AN5471)) </li>
<li>
BlueNRG-LP IAR and KEIL toolchains utilities </li>
</ul>
<h2><a class="anchor" id="S31"></a>
Bluetooth Low Energy (LE) demonstration applications</h2>
<ul>
<li>
The following Bluetooth LE examples applications are available with related workspaces and Bluetooth LE stack v3.x modular configurations options : <ol>
<li>
<b>BLE ANCS </b> application supporting the notification consumer profile role: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspace: Release [BLE_STACK_BASIC_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Beacon </b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF], Use_OTA_ServiceManager [BLE_STACK_BASIC_CONF], ExtendedAdv [BLE_STACK_FULL_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Beacon with Flash Management</b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Beacon with FreeRTOS</b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF])</li>
</ul>
</li>
<li>
<b>BLE Beacon with Flash Management</b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Serial Port </b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Client [BLE_STACK_FULL_CONF], Server [BLE_STACK_BASIC_CONF], Server Lower &amp; Higher with OTA [BLE_STACK_SLAVE_DLE_LE_2M_CONF], Server with OTA Service Manager [BLE_STACK_BASIC_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Serial Port Master &amp; Slave</b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspace: Release [BLE_STACK_FULL_CONF]). </li>
</ul>
</li>
<li>
<b>BLE Privacy </b>application addressing Bluetooth LE Controller Privacy feature: <ul>
<li>
Projects supporting BlueNRG-2 Development Kits (workspaces: Master [BLE_STACK_FULL_CONF], Slave [BLE_STACK_FULL_CONF]).</li>
</ul>
</li>
<li>
<b>BLE HID/HOGP Keyboard, Mouse</b> applications: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: HID_Keyboard [BLE_STACK_BASIC_CONF], HID_Mouse [BLE_STACK_BASIC_CONF]). </li>
</ul>
</li>
<li>
<b>BLE Multiple Connections</b> applications: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Slave [BLE_STACK_SLAVE_DLE_CONF], MasterSlave [BLE_STACK_FULL_CONF], Master [BLE_STACK_FULL_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Remote Control with Long Range (Coded PHY) </b> applications: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Client[BLE_STACK_FULL_CONF], Server [BLE_STACK_FULL_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Remote Control </b>example: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_FULL_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Sensor Demo </b>application with acceleration and environmental sensors values (temperature &amp; pressure): <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF], Lower &amp; Higher with OTA [BLE_STACK_SLAVE_DLE_LE_2M_CONF], Use OTA Service Manager [BLE_STACK_BASIC_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Sensor Demo, BlueMS </b>application supporting ST BLE Sensor (BlueMS) smarthphone app: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF], Lower &amp; Higher with OTA [BLE_STACK_SLAVE_DLE_LE_2M_CONF], Use OTA Service Manager [BLE_STACK_BASIC_CONF]).).</li>
</ul>
</li>
<li>
<b>BLE Sensor Demo Central </b> which emulates the Sensor Demo applications available for smartphones (IOS and Android): <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspace: Release [BLE_STACK_FULL_CONF]</li>
</ul>
</li>
<li>
<b>BLE Security </b> application which shows some basic security examples : <ul>
<li>
Projects supporting BlueNRG-LP Development Kits </li>
<li>
Workspaces &amp; supported combinations: <ul>
<li>
Master_PassKey_Random &amp; Slave_PassKey_Random [BLE_STACK_FULL_CONF] </li>
<li>
Master_PassKey_Fixed &amp; Slave_PassKey_Fixed [BLE_STACK_FULL_CONF] </li>
<li>
Master_JustWorks &amp; Slave_JustWorks [BLE_STACK_FULL_CONF] </li>
<li>
Master_NumericComp &amp; Slave_NumericComp (new pairing method supported only with LE Secure connections) [BLE_STACK_FULL_CONF] </li>
</ul>
</li>
</ul>
</li>
<li>
<b>BLE Throughput with data length extension and 1Mbps/2Mbps PHY, L2CAP-COS</b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Client [BLE_STACK_FULL_CONF], Server [BLE_STACK_FULL_CONF]).</li>
</ul>
</li>
<li>
<b>BLE Power Consumption</b> application: <ul>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: Release [BLE_STACK_BASIC_CONF].</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2><a class="anchor" id="S32"></a>
Bluetooth Low Energy (LE) network co-processor</h2>
<ul>
<li>
<p class="startli"><b>DTM v1.0.0</b> application for network co-processor mode with BlueNRG GUI (UART, SPI): </p><ul>
<li>
It supports network co-processor configurations: UART (baudrate: 921600),SPI. </li>
<li>
Projects supporting BlueNRG-LP Development Kits (workspaces: UART, UART_WITH_UPDATER, UART_FOR_UPDATER, SPI, SPI_WITH_UPDATER, SPI_FOR_UPDATER). </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>NOTES </b>: </p><ul>
<li>
<b> Before using a STEVAL-IDB011V1 platform as network co-processor, upgrade the DTM application to the latest available version.</b>. <ul>
<li>
Prebuilt DTM binary images are available on Firmware/BLE_Examples/DTM folder and can be downloaded using the BlueNRG-LP Navigator tools or by Drag-and_drop copy: <ul>
<li>
DTM_UART.hex: DTM image with no updater capability; </li>
<li>
DTM_UART_WITH_UPDATER.hex: DTM image with updater capability; </li>
<li>
DTM_SPI.hex: DTM image with no updater capability; </li>
<li>
DTM_SPI_WITH_UPDATER.hex: DTM image with updater capability. </li>
</ul>
</li>
<li>
Further, binary images for DTM Firmare updater procedure (i.e.: using BlueNRG GUI) are available: <ul>
<li>
DTM_UART_FOR_UPDATER.bin; </li>
<li>
DTM_SPI_FOR_UPDATER.bin.</li>
</ul>
</li>
<li>
DTM basic prebuilt binary images built with BLE_STACK_BASIC_CONF option are also available on Firmware/BLE_Examples/DTM_basic folder. </li>
</ul>
</li>
</ul>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id="S33"></a>
Peripheral drivers examples</h2>
<ul>
<li>
<p class="startli">The following Peripherals Drivers examples are available: </p><ol>
<li>
<b>ADC </b>examples (Battery, Temperature, Conversion, Analog Microphone). </li>
<li>
<b>BSP </b>examples (COM, Leds, buttons, sensors) </li>
<li>
<b>CRC </b>examples (Basic example, User Defined Polynomial and Polynomial Update) </li>
<li>
<b>DMA </b>examples (Basic example and RAM to RAM) </li>
<li>
<b>EXTI </b>examples (Toggle led) </li>
<li>
<b>Flash </b>examples (Erase, programm) </li>
<li>
<b>GPIO </b>examples (Inf, IO toggle, EXTI) </li>
<li>
<b>HAL </b>examples: (Time base, RTC Alarm, RTC Timebase wakeup) </li>
<li>
<b>I2C </b>examples (IT, DMA, Polling two boards communication) </li>
<li>
<b>I2S </b> examples (audio, RX, TX) </li>
<li>
<b>IWDG </b>examples (Window mode, Reset, Refresh Until User Event Init) </li>
<li>
<b>LPUART</b> examples (TX/RX) </li>
<li>
<b>MICRO </b>examples (Hello World , Power Save modes) </li>
<li>
<b>PKA </b>examples (DataEncrypt) </li>
<li>
<b>2.4 GHZ proprietary radio </b>examples (Automatic Channel Management, Beep, Beep Multistate,Serial Port and encryption, RC, Sleep, Sniffer, Sniffer Multistate, TX/RX, Star network, OTA, throughput) </li>
<li>
<b>RCC </b>examples (RCC Output System Clock, HSE startup time measurements) </li>
<li>
<b>RNG </b>examples ( RNG Generate Random Numbers, Multi RNG) </li>
<li>
<b>RTC </b>examples (RTC wakeup, alarm, autocalibration, calendar, exit standby with wakeup timer, wakeup calendar) </li>
<li>
<b>SPI </b>examples (SPI Half/Full Duplex, IT, DMA Polling, Master/Slave) </li>
<li>
<b>TIM </b>examples (TIM Break and Dead time, Input capture, Output compare, One Compare, time base, OC active,inactive and toggle, PWM I/O, train, one pulse, one pulseTI2 trigger, Frequency divider) </li>
<li>
<b>USART </b>examples (Usart RX/TX: IT, Polling, printf, hyper terminal, DMA, two boards) </li>
</ol>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="S4"></a>
Development Toolchains</h1>
<ul>
<li>
IAR Embedded Workbench for ARM (EWARM) toolchain V8.40.1 or later. </li>
<li>
NOTES: <ul>
<li>
User is requested to install the new <b>EWARM_BlueNRG-LP_Flasher_2.0.0.exe</b> available on BlueNRG-LP DK, Utility folder: it allows to add BlueNRG-LP device support to EWARM, IAR toolchain (just copy and extract under user EWARM, IAR toolchain main folder). </li>
</ul>
</li>
</ul>
<ul>
<li>
Keil uVision V5 (MDK-ARM) toolchain V5.27 or later. </li>
<li>
NOTES: <ul>
<li>
For BlueNRG-LP device support, user is requested to install the new BlueNRG-LP Keil, MDK-ARM support files (Keil Pack) available on BlueNRG-LP DK, Utility folder: <b>Keil.STBlueNRG-LP_DFP.2.0.0.pack </b>. </li>
<li>
When opening a Keil project, please make sure the ST BlueNRG-LP has been already selected as device on Keil Debug tab as follow: <ul>
<li>
On Keil Project, Option for Target '...', Debug, Use tab, select CMSIS-DAP Debugger option; </li>
<li>
Open the associated Settings tab, select Flash Download and then Add button: select ST BlueNRG-LP Device Family Package according to the current selected device and press Add. </li>
<li>
The selected configuration can then be saved from File, Save All option (on file *.uvoptx). </li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="S5"></a>
Supported platforms</h1>
<ul>
<li>
BlueNRG-LP QFN48 development kit (order code: STEVAL-IDB011V1).  </li>
<li>
<p class="startli">NUCLEO-L476RG platform + BlueNRG-LP kit configured as DTM network coprocessor.</p>
<p class="endli"></p>
</li>
<li>
NOTES: <ol>
<li>
When using a NUCLEO platform, install the related ST-Link, ST-Link/V2, ST-Link/V2-1 USB driver (STSW-LINK009). </li>
<li>
When using a NUCLEO platform, make sure the ST-Link firmware is updated to latest version available on ST web page. This can be checked/achieved by using the STM32 ST-LINK Utility v3.6.0 (or later): <ol>
<li>
Connect a NUCLEO platform to a PC USB port </li>
<li>
Download and install STM32 ST-LINK Utility v3.6.0 (or later): it is available on ST web site (STSW-LINK004). </li>
<li>
Run the STM32 ST-LINK Utility v3.6.0 (or later). </li>
<li>
From Target menu, select Connect </li>
<li>
From ST-LINK menu, select Firmware Upgrade and Device Connect. Click on Yes &gt;&gt;&gt; tab for performing the ST-LINK firmware upgrade.</li>
</ol>
</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="S6"></a>
SDK Known problems and limitations</h1>
<ul>
<li>
This section lists the SDK SW issues known at release time. Issues found after this release are listed as solved or limitations on newer releases:<br />
 <ul>
<li>
ID 0216: if a BlueNRG-LP HW board is configured for using SMPS (an inductor is connected between the pin VLXSD and the pin VFBSD), but user application sets the SMPS OFF SW configuration, the device doesn't work and it is not possible to connect to it. Possible workaround: <ul>
<li>
Provide a temporary VBLUE to the pin VFBSD in order to start up the device providing external power to the LDO1V2 that power up the digital domain. After the startup it is possible to load the CORRECT SMPS setting. </li>
</ul>
</li>
<li>
ID 1363: HID Library doesn't support more than one HID Report Reference Descriptor of same type. </li>
<li>
<p class="startli">ID 1364: HID Library, hidSetIdleTimeout(): idle connection timeout framework is not supported.</p>
<p class="endli"></p>
</li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
