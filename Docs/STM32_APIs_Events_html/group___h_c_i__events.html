<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP/BlueNRG-LPS network coprocessor Bluetooth LE stack APIs, Events and Constants: HCI events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP/BlueNRG-LPS network coprocessor Bluetooth LE stack APIs, Events and Constants
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HCI events</div>  </div>
</div><!--header-->
<div class="contents">

<p>HCI events layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_handle___packets___pair___entry__t__s.html">Handle_Packets_Pair_Entry_t_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga19e315b18dca48a4c6549df0a22aa83e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_handle___packets___pair___entry__t__s.html">Handle_Packets_Pair_Entry_t_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#ga19e315b18dca48a4c6549df0a22aa83e">Handle_Packets_Pair_Entry_t</a></td></tr>
<tr class="separator:ga19e315b18dca48a4c6549df0a22aa83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacd72d4de63874a782b536258e5d13cb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#gacd72d4de63874a782b536258e5d13cb1">WEAK_FUNCTION</a> (void hci_disconnection_complete_event(uint8_t Status,                                                                                                                                               uint16_t Connection_Handle,                                                                                                                                               uint8_t Reason))</td></tr>
<tr class="memdesc:gacd72d4de63874a782b536258e5d13cb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Disconnection Complete event occurs when a connection is terminated. The status parameter indicates if the disconnection was successful or not. The reason parameter indicates the reason for the disconnection if the disconnection was successful. If the disconnection was not successful, the value of the reason parameter can be ignored by the Host. For example, this can be the case if the Host has issued the Disconnect command and there was a parameter error, or the command was not presently allowed, or a Connection_Handle that didn't correspond to a connection was given.  <a href="#gacd72d4de63874a782b536258e5d13cb1">More...</a><br /></td></tr>
<tr class="separator:gacd72d4de63874a782b536258e5d13cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0ed608a4f91da78b8eacf5667a7b9c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#gab0ed608a4f91da78b8eacf5667a7b9c3">WEAK_FUNCTION</a> (void hci_encryption_change_event(uint8_t Status,                                                                                                                           uint16_t Connection_Handle,                                                                                                                           uint8_t Encryption_Enabled))</td></tr>
<tr class="memdesc:gab0ed608a4f91da78b8eacf5667a7b9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Encryption Change event is used to indicate that the change of the encryption mode has been completed. The Connection_Handle will be a Connection_Handle for an ACL connection. The Encryption_Enabled event parameter specifies the new Encryption_Enabled parameter for the Connection_Handle specified by the Connection_Handle event parameter. This event will occur on both devices to notify the Hosts when Encryption has changed for the specified Connection_Handle between two devices. Note: This event shall not be generated if encryption is paused or resumed; during a role switch, for example. The meaning of the Encryption_Enabled parameter depends on whether the Host has indicated support for Secure Connections in the Secure_Connections_Host_Support parameter. When Secure_Connections_Host_Support is 'disabled' or the Connection_Handle refers to an LE link, the Controller shall only use Encryption_Enabled values 0x00 (OFF) and 0x01 (ON). (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.7.8)  <a href="#gab0ed608a4f91da78b8eacf5667a7b9c3">More...</a><br /></td></tr>
<tr class="separator:gab0ed608a4f91da78b8eacf5667a7b9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaee8c8afb58e60654aaa7bc3e463aae9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#gaaee8c8afb58e60654aaa7bc3e463aae9">WEAK_FUNCTION</a> (void hci_read_remote_version_information_complete_event(uint8_t Status,                                                                                                                                                                                                                       uint16_t Connection_Handle,                                                                                                                                                                                                                       uint8_t Version,                                                                                                                                                                                                                       uint16_t Manufacturer_Name,                                                                                                                                                                                                                       uint16_t Subversion))</td></tr>
<tr class="memdesc:gaaee8c8afb58e60654aaa7bc3e463aae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Read Remote Version Information Complete event is used to indicate the completion of the process obtaining the version information of the remote Controller specified by the Connection_Handle event parameter. The Connection_Handle shall be for an ACL connection. The Version event parameter defines the specification version of the LE Controller. The Manufacturer_Name event parameter indicates the manufacturer of the remote Controller. The Subversion event parameter is controlled by the manufacturer and is implementation dependent. The Subversion event parameter defines the various revisions that each version of the Bluetooth hardware will go through as design processes change and errors are fixed. This allows the software to determine what Bluetooth hardware is being used and, if necessary, to work around various bugs in the hardware. When the Connection_Handle is associated with an LE-U logical link, the Version event parameter shall be Link Layer VersNr parameter, the Manufacturer_Name event parameter shall be the CompId parameter, and the Subversion event parameter shall be the SubVersNr parameter. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.7.12)  <a href="#gaaee8c8afb58e60654aaa7bc3e463aae9">More...</a><br /></td></tr>
<tr class="separator:gaaee8c8afb58e60654aaa7bc3e463aae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49dd0bc74a5be8c90d5b2b0566a4cdce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#ga49dd0bc74a5be8c90d5b2b0566a4cdce">WEAK_FUNCTION</a> (void hci_hardware_error_event(uint8_t Hardware_Code))</td></tr>
<tr class="memdesc:ga49dd0bc74a5be8c90d5b2b0566a4cdce"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Hardware Error event is used to indicate some implementation specific type of hardware failure for the controller. This event is used to notify the Host that a hardware failure has occurred in the Controller.  <a href="#ga49dd0bc74a5be8c90d5b2b0566a4cdce">More...</a><br /></td></tr>
<tr class="separator:ga49dd0bc74a5be8c90d5b2b0566a4cdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb94f4ec4f1341aa7a4a4a44147edf5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#gadb94f4ec4f1341aa7a4a4a44147edf5b">WEAK_FUNCTION</a> (void hci_number_of_completed_packets_event(uint8_t Number_of_Handles,                                                                                                                                                                   <a class="el" href="group___h_c_i__events.html#ga19e315b18dca48a4c6549df0a22aa83e">Handle_Packets_Pair_Entry_t</a> Handle_Packets_Pair_Entry[]))</td></tr>
<tr class="memdesc:gadb94f4ec4f1341aa7a4a4a44147edf5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Number Of Completed Packets event is used by the Controller to indicate to the Host how many HCI Data Packets have been completed (transmitted or flushed) for each Connection_Handle since the previous Number Of Completed Packets event was sent to the Host. This means that the corresponding buffer space has been freed in the Controller. Based on this information, and the HC_Total_Num_ACL_Data_Packets and HC_Total_Num_Synchronous_- Data_Packets return parameter of the Read_Buffer_Size command, the Host can determine for which Connection_Handles the following HCI Data Packets should be sent to the Controller. The Number Of Completed Packets event must not be sent before the corresponding Connection Complete event. While the Controller has HCI data packets in its buffer, it must keep sending the Number Of Completed Packets event to the Host at least periodically, until it finally reports that all the pending ACL Data Packets have been transmitted or flushed.  <a href="#gadb94f4ec4f1341aa7a4a4a44147edf5b">More...</a><br /></td></tr>
<tr class="separator:gadb94f4ec4f1341aa7a4a4a44147edf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3b610f8b902918871c20967e7e7a9cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#gaf3b610f8b902918871c20967e7e7a9cf">WEAK_FUNCTION</a> (void hci_data_buffer_overflow_event(uint8_t Link_Type))</td></tr>
<tr class="memdesc:gaf3b610f8b902918871c20967e7e7a9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">'This event is used to indicate that the Controller's data buffers have been overflowed. This can occur if the Host has sent more packets than allowed. The Link_Type parameter is used to indicate that the overflow was caused by ACL data.  <a href="#gaf3b610f8b902918871c20967e7e7a9cf">More...</a><br /></td></tr>
<tr class="separator:gaf3b610f8b902918871c20967e7e7a9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e1d69d60ebf51313cdba89ba343cc84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#ga3e1d69d60ebf51313cdba89ba343cc84">WEAK_FUNCTION</a> (void hci_encryption_key_refresh_complete_event(uint8_t Status,                                                                                                                                                                                   uint16_t Connection_Handle))</td></tr>
<tr class="memdesc:ga3e1d69d60ebf51313cdba89ba343cc84"><td class="mdescLeft">&#160;</td><td class="mdescRight">'The Encryption Key Refresh Complete event is used to indicate to the Host that the encryption key was refreshed on the given Connection_Handle any time encryption is paused and then resumed. If the Encryption Key Refresh Complete event was generated due to an encryption pause and resume operation embedded within a change connection link key procedure, the Encryption Key Refresh Complete event shall be sent prior to the Change Connection Link Key Complete event. If the Encryption Key Refresh Complete event was generated due to an encryption pause and resume operation embedded within a role switch procedure, the Encryption Key Refresh Complete event shall be sent prior to the Role Change event.  <a href="#ga3e1d69d60ebf51313cdba89ba343cc84">More...</a><br /></td></tr>
<tr class="separator:ga3e1d69d60ebf51313cdba89ba343cc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9e619f07732f8157999a1ff70cb83fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#gae9e619f07732f8157999a1ff70cb83fe">WEAK_FUNCTION</a> (void hci_authenticated_payload_timeout_expired_event(uint16_t Connection_Handle))</td></tr>
<tr class="memdesc:gae9e619f07732f8157999a1ff70cb83fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The HCI_Authenticated_Payload_Timeout_Expired event is used to indicate that a packet containing a valid MIC on the Connection_Handle was not received within the authenticatedPayloadTO. Note: A Host may choose to disconnect the link when this occurs.  <a href="#gae9e619f07732f8157999a1ff70cb83fe">More...</a><br /></td></tr>
<tr class="separator:gae9e619f07732f8157999a1ff70cb83fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24c1225de2f440ed8a35a8760d1109c1"><td class="memItemLeft" align="right" valign="top">tBleStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i__events.html#ga24c1225de2f440ed8a35a8760d1109c1">hci_rx_acl_data_event</a> (uint16_t Connection_Handle, uint8_t PB_Flag, uint8_t BC_Flag, uint16_t Data_Length, uint8_t *PDU_Data)</td></tr>
<tr class="memdesc:ga24c1225de2f440ed8a35a8760d1109c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">API used to receive HCI ACL Data Packets to exchange data between the Host and Controller.  <a href="#ga24c1225de2f440ed8a35a8760d1109c1">More...</a><br /></td></tr>
<tr class="separator:ga24c1225de2f440ed8a35a8760d1109c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>HCI events layer. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga19e315b18dca48a4c6549df0a22aa83e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_handle___packets___pair___entry__t__s.html">Handle_Packets_Pair_Entry_t_s</a>  <a class="el" href="group___h_c_i__events.html#ga19e315b18dca48a4c6549df0a22aa83e">Handle_Packets_Pair_Entry_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Documentation for C struct Handle_Packets_Pair_Entry_t </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga24c1225de2f440ed8a35a8760d1109c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tBleStatus hci_rx_acl_data_event </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Connection_Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PB_Flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>BC_Flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>PDU_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API used to receive HCI ACL Data Packets to exchange data between the Host and Controller. </p>
<dl class="section note"><dt>Note</dt><dd>The API name is only available in link layer only mode.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Connection_Handle</td><td>Connection handle for which the command is given. Range: 0x0000-0x0EFF (0x0F00 - 0x0FFF Reserved for future use) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">PB_Flag</td><td>Packet boundary flag </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">BC_Flag</td><td>Broadcast flag </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">Data_Length</td><td>Length of PDU data in octets. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PDU_Data</td><td>PDU data pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="gacd72d4de63874a782b536258e5d13cb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_disconnection_complete_event</em>uint8_t Status,                                                                                                                                                                                                                                                                                           uint16_t Connection_Handle,                                                                                                                                                                                                                                                                                           uint8_t Reason</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Disconnection Complete event occurs when a connection is terminated. The status parameter indicates if the disconnection was successful or not. The reason parameter indicates the reason for the disconnection if the disconnection was successful. If the disconnection was not successful, the value of the reason parameter can be ignored by the Host. For example, this can be the case if the Host has issued the Disconnect command and there was a parameter error, or the command was not presently allowed, or a Connection_Handle that didn't correspond to a connection was given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Status</td><td>For standard error codes see Bluetooth specification, Vol. 2, part D. For proprietary error code refer to Error codes section. </td></tr>
    <tr><td class="paramname">Connection_Handle</td><td>Connection_Handle which was disconnected. Values:<ul>
<li>0x0000 ... 0x0EFF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Reason</td><td>Reason for disconnection. See Error Codes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab0ed608a4f91da78b8eacf5667a7b9c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_encryption_change_event</em>uint8_t Status,                                                                                                                                                                                                                                                   uint16_t Connection_Handle,                                                                                                                                                                                                                                                   uint8_t Encryption_Enabled</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Encryption Change event is used to indicate that the change of the encryption mode has been completed. The Connection_Handle will be a Connection_Handle for an ACL connection. The Encryption_Enabled event parameter specifies the new Encryption_Enabled parameter for the Connection_Handle specified by the Connection_Handle event parameter. This event will occur on both devices to notify the Hosts when Encryption has changed for the specified Connection_Handle between two devices. Note: This event shall not be generated if encryption is paused or resumed; during a role switch, for example. The meaning of the Encryption_Enabled parameter depends on whether the Host has indicated support for Secure Connections in the Secure_Connections_Host_Support parameter. When Secure_Connections_Host_Support is 'disabled' or the Connection_Handle refers to an LE link, the Controller shall only use Encryption_Enabled values 0x00 (OFF) and 0x01 (ON). (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.7.8) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Status</td><td>For standard error codes see Bluetooth specification, Vol. 2, part D. For proprietary error code refer to Error codes section. </td></tr>
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle that identifies the connection. Values:<ul>
<li>0x0000 ... 0x0EFF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Encryption_Enabled</td><td>Link Level Encryption. Values:<ul>
<li>0x00: Link Level Encryption OFF</li>
<li>0x01: Link Level Encryption is ON with AES-CCM </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaaee8c8afb58e60654aaa7bc3e463aae9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_read_remote_version_information_complete_event</em>uint8_t Status,                                                                                                                                                                                                                                                                                                                                                                                                                                           uint16_t Connection_Handle,                                                                                                                                                                                                                                                                                                                                                                                                                                           uint8_t Version,                                                                                                                                                                                                                                                                                                                                                                                                                                           uint16_t Manufacturer_Name,                                                                                                                                                                                                                                                                                                                                                                                                                                           uint16_t Subversion</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Read Remote Version Information Complete event is used to indicate the completion of the process obtaining the version information of the remote Controller specified by the Connection_Handle event parameter. The Connection_Handle shall be for an ACL connection. The Version event parameter defines the specification version of the LE Controller. The Manufacturer_Name event parameter indicates the manufacturer of the remote Controller. The Subversion event parameter is controlled by the manufacturer and is implementation dependent. The Subversion event parameter defines the various revisions that each version of the Bluetooth hardware will go through as design processes change and errors are fixed. This allows the software to determine what Bluetooth hardware is being used and, if necessary, to work around various bugs in the hardware. When the Connection_Handle is associated with an LE-U logical link, the Version event parameter shall be Link Layer VersNr parameter, the Manufacturer_Name event parameter shall be the CompId parameter, and the Subversion event parameter shall be the SubVersNr parameter. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.7.12) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Status</td><td>For standard error codes see Bluetooth specification, Vol. 2, part D. For proprietary error code refer to Error codes section. </td></tr>
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle that identifies the connection. Values:<ul>
<li>0x0000 ... 0x0EFF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Version</td><td>Version of the Current LMP in the remote Controller </td></tr>
    <tr><td class="paramname">Manufacturer_Name</td><td>Manufacturer Name of the remote Controller </td></tr>
    <tr><td class="paramname">Subversion</td><td>Subversion of the LMP in the remote Controller </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga49dd0bc74a5be8c90d5b2b0566a4cdce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_hardware_error_event</em>uint8_t Hardware_Code</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Hardware Error event is used to indicate some implementation specific type of hardware failure for the controller. This event is used to notify the Host that a hardware failure has occurred in the Controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Hardware_Code</td><td>Error code 0x01 and 0x02 are errors generally caused by hardware issue on the PCB; another possible cause is a slow crystal startup. In the latter case, the HS_STARTUP_TIME in the device configuration needs to be tuned. Error code 0x03 indicates an internal error of the protocol stack. This event with error code 0x04 is raised when a radio interrupt is served late. This usually happens when interrupts are disabled for too long time or when a flash operation is performed. Stack will try to recover the situation, so there is normally no need to reset the device. However this condition should be avoided as much as possible. Error code 0x05 is raised when an error happens during a TX transaction. After this event is received with error code 0x00, 0x01, 0x02 or 0x03, it is recommended to force a device reset. Values:<ul>
<li>0x00: Generic HW error</li>
<li>0x01: Radio state error</li>
<li>0x02: Timer overrun error</li>
<li>0x03: Internal queue overflow error</li>
<li>0x04: Late Radio ISR</li>
<li>0x05: TX Error </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadb94f4ec4f1341aa7a4a4a44147edf5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_number_of_completed_packets_event</em>uint8_t Number_of_Handles,                                                                                                                                                                                                                                                                                                                                   Handle_Packets_Pair_Entry_t Handle_Packets_Pair_Entry[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Number Of Completed Packets event is used by the Controller to indicate to the Host how many HCI Data Packets have been completed (transmitted or flushed) for each Connection_Handle since the previous Number Of Completed Packets event was sent to the Host. This means that the corresponding buffer space has been freed in the Controller. Based on this information, and the HC_Total_Num_ACL_Data_Packets and HC_Total_Num_Synchronous_- Data_Packets return parameter of the Read_Buffer_Size command, the Host can determine for which Connection_Handles the following HCI Data Packets should be sent to the Controller. The Number Of Completed Packets event must not be sent before the corresponding Connection Complete event. While the Controller has HCI data packets in its buffer, it must keep sending the Number Of Completed Packets event to the Host at least periodically, until it finally reports that all the pending ACL Data Packets have been transmitted or flushed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Number_of_Handles</td><td>The number of Connection_Handles and Num_HCI_Data_Packets parameters pairs contained in this event </td></tr>
    <tr><td class="paramname">Handle_Packets_Pair_Entry</td><td>See <a class="el" href="group___h_c_i__events.html#ga19e315b18dca48a4c6549df0a22aa83e">Handle_Packets_Pair_Entry_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf3b610f8b902918871c20967e7e7a9cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_data_buffer_overflow_event</em>uint8_t Link_Type</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>'This event is used to indicate that the Controller's data buffers have been overflowed. This can occur if the Host has sent more packets than allowed. The Link_Type parameter is used to indicate that the overflow was caused by ACL data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Link_Type</td><td>On which type of channel overflow has occurred. Values:<ul>
<li>0x01: ACL Buffer Overflow </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3e1d69d60ebf51313cdba89ba343cc84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_encryption_key_refresh_complete_event</em>uint8_t Status,                                                                                                                                                                                                                                                                                                                                                                   uint16_t Connection_Handle</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>'The Encryption Key Refresh Complete event is used to indicate to the Host that the encryption key was refreshed on the given Connection_Handle any time encryption is paused and then resumed. If the Encryption Key Refresh Complete event was generated due to an encryption pause and resume operation embedded within a change connection link key procedure, the Encryption Key Refresh Complete event shall be sent prior to the Change Connection Link Key Complete event. If the Encryption Key Refresh Complete event was generated due to an encryption pause and resume operation embedded within a role switch procedure, the Encryption Key Refresh Complete event shall be sent prior to the Role Change event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Status</td><td>For standard error codes see Bluetooth specification, Vol. 2, part D. For proprietary error code refer to Error codes section. </td></tr>
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle that identifies the connection. Values:<ul>
<li>0x0000 ... 0x0EFF </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae9e619f07732f8157999a1ff70cb83fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WEAK_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>hci_authenticated_payload_timeout_expired_event</em>uint16_t Connection_Handle</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The HCI_Authenticated_Payload_Timeout_Expired event is used to indicate that a packet containing a valid MIC on the Connection_Handle was not received within the authenticatedPayloadTO. Note: A Host may choose to disconnect the link when this occurs. </p>
<p>This event is generated when the client has sent the confirmation to a previously sent indication.</p>
<p>This event is generated in response to an ATT Execute Write Request, during a write long characteristic value procedure. See aci_gatt_clt_write_long().</p>
<p>This event is generated by the client/server to the application on a GATT timeout (30 seconds). This is a critical event that should not happen during normal operating conditions. It is an indication of either a major disruption in the communication link or a mistake in the application which does not provide a reply to GATT procedures. After this event, the GATT channel is closed and no more GATT communication can be performed. The applications is exptected to issue an <a class="el" href="bluenrg__lp__gap__aci_8h.html#a7c1b1aca7489a846f3aaa25cdb9db180">aci_gap_terminate</a> to disconnect from the peer device. It is important to leave an 100 ms blank window before sending the <a class="el" href="bluenrg__lp__gap__aci_8h.html#a7c1b1aca7489a846f3aaa25cdb9db180">aci_gap_terminate</a>, since immediately after this event, system could save important information in non volatile memory.</p>
<p>This event is sent only by a privacy enabled Peripheral. The event is sent to the upper layers when the peripheral is unsuccessful in resolving the resolvable address of the peer device after connecting to it.</p>
<p>This event is generated by the Security manager to the application when a passkey is required for pairing. When this event is received, the application has to respond with the <a class="el" href="bluenrg__lp__gap__aci_8h.html#ab5acbb617b13a0880a76d8f063153e6f">aci_gap_pass_key_resp</a> command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle that identifies the connection. Values:<ul>
<li>0x0000 ... 0x0EFF </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle for which the passkey has been requested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle for which the private address could not be resolved with any of the stored IRK's. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle on which the GATT procedure has timed out </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle related to the response </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Connection_Handle</td><td>Connection handle related to the event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
