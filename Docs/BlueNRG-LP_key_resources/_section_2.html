<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP/BlueNRG-LPS Development kit: 2) Design, Develop and Test Bluetooth LE applications using BlueNRG-LP/BlueNRG-LPS development kits</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP/BlueNRG-LPS Development kit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">2) Design, Develop and Test Bluetooth LE applications using BlueNRG-LP/BlueNRG-LPS development kits </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="S2"></a>
First Option: use BlueNRG GUI PC application and script launcher for running scripts</h1>
<ul>
<li>BlueNRG GUI PC application allows user to directly test a specific Bluetooth LE scenario using the available set of BlueNRG-LP/BlueNRG-LPS <b>Bluetooth LE Stack Library </b><a href="../BlueNRG-LP_aci_events/bluenrg__lp__api_8h.html">API commands</a> and getting stack <a href="../BlueNRG-LP_aci_events/bluenrg__lp__events_8h.html">events </a> </li>
<li>Further, BlueNRG GUI allows to load and run a python script built using the available set of BlueNRG-LP/BlueNRG-LPS Bluetooth LE stack <a href="../BlueNRG-LP_aci_events/bluenrg__lp__api_8h.html">API commands</a> and related <a href="../BlueNRG-LP_aci_events/bluenrg__lp__events_8h.html">events </a>: <ul>
<li>
User can design, implement and play with the key features of its specific Bluetooth LE application scenario without the need to move to any FW development code using a specific IDE. </li>
<li>
Once the Bluetooth LE scenario has been designed and proved, user can then move to the C code porting and related testing, saving time and reducing the risk of application not well working. </li>
</ul>
</li>
<li>NOTEs: <ul>
<li>
User is requested to program the BlueNRG-LP/BlueNRG-LPS development kit with the Firmware\BLE_Examples\DTM\{STEVAL-IDB011V1|STEVAL-IDB012V1}\DTM_UART_WITH_UPDATER.hex binary image as follow: <ol>
<li>
Connect the selected board to a PC USB port </li>
<li>
On PC Computer Window, use the the "drag and drop" mass storage upgrade capability for copying the selected binary image into the associated BlueNRG-LP/BlueNRG-LPS platform. <table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="Figure_3.png" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 18px; color:blue;"> Figure 3: Drag and Drop upgrade </b>  </td></tr>
</table>
</li>
</ol>
<ul>
<li>
Alternatively, open the <a href="#flasher">RF-Flasher Utility tool</a>: </li>
<li>
On UART tab, select the COM port associated to the selected platform </li>
<li>
On UART tab, select the specific DTM binary file through the Select Image file button </li>
<li>
On UART tab, select Mass erase option </li>
<li>
Press Flash button for programming the device </li>
</ul>
</li>
<li>
User should make sure that the <a href="../USB_CMSISDAP_FW_upgrade_procedure/USB_CMSISDAP_FW_upgrade_procedure.html">USB CMSISDAP firmware</a> is upgraded on BlueNRG-LP/BlueNRG-LPS platform to the latest available version by using the related procedure. </li>
</ul>
</li>
</ul>
<ul>
<li><b> How to run a script? </b> On BlueNRG GUI tool, Scripts window, select the script through the Load Script... button and then click on the Run Script button.</li>
</ul>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="Figure_4.png" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 18px; color:blue;"> Figure 4: BlueNRG GUI PC application: run Bluetooth LE Beacon script example </b>  </td></tr>
</table>
<ul>
<li>Reference scripts examples (Beacon, Simultaneously Master/Slave, Multiple Connections, Security with Pass Key method, OTA client, Sensor Demo Central role, ...) are available on STSW-BNRGUI SW package within the folder Application//scripts.</li>
</ul>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="Figure_5.png" />
</div>
   </td></tr>
<tr align="center ">
<td><b style="font-size: 18px; color:blue;"> Figure 5: BlueNRG GUI, Bluetooth LE Beacon script example </b>  </td></tr>
</table>
<ul>
<li>User can make its own script based on one of the reference script which is closer to his Bluetooth LE application scenario. He can also store the available set of commands and events on BlueNRG GUI as a script, by using the Save As Script... feature from File menu. </li>
<li>Once the specific Bluetooth LE scenario has been tested and proved on BlueNRG GUI and scripts context, user can generated the associated C code framework with header, sources files and IDE projects by using the Save As C Code feature available on BlueNRG GUI SW tool (from menu File, Save As C Code... item). This allows to generate a complete set of IDE projects with header and source files, within the BlueNRG-LP/BlueNRG-LPS SW package (STSW-BNRGLP-DK).</li>
</ul>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="Figure_6.png" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 18px; color:blue;"> Figure 6: BlueNRG GUI: Save As C Code... </b>  </td></tr>
</table>
<ul>
<li>NOTE: The script launcher PC application (BlueNRG_Script_Launcher.exe) is a standalone utility allowing to run a script without the need to use the BlueNRG GUI. It is available on STSW-BNRGUI SW package, within the folder Application.</li>
</ul>
<ul>
<li>Refer to the <a href="http://www.st.com/resource/en/user_manual/dm00286976.pdf">BlueNRG GUI SW package (STSW-BNRGUI) User Manual (UM2058)</a>, GUI main window and GUI scripts window sections for more <a class="anchor" id="second_option"></a> detailed information.</li>
</ul>
<h1><a class="anchor" id="S2_1"></a>
Second option: move to SW development environment starting from available Bluetooth LE examples</h1>
<ul>
<li>BlueNRG-LP/BlueNRG-LPS, STSW-BNRGLP-DK SW package provides a set of Bluetooth LE demonstrations applications allowing to test several applications scenarios which can be easily selected and downloaded on a BlueNR-LP, BlueNRG-LPS platform using the BlueNRG-LP/BlueNRG-LPS Navigator tool (Beacon, Serial Port, Serial Port Master and Slave, OTA Reset and Service manager, Remote Control, Sensor Demo and Sensor Demo Central, Throughput, Security, ...). </li>
<li>User can identify which available demonstration application is close to his specific needs and follows such steps: <ul>
<li>
Open its IDE toolchains and related demonstration application project (IAR EWARM for ARM, Keil MDK-ARM and WiSE-Studio GCC toolchains examples are available on STSW-BNRGLP-DK SW package) </li>
<li>
Modify the available source files according to his needs and then download and test the built binary file on the selected platform. </li>
<li>
Run the built application and play with it! </li>
</ul>
</li>
</ul>
<ul>
<li>NOTEs: <ul>
<li>
<a href="https://www.st.com/resource/en/programming_manual/dm00698052-bluetooth-le-stack-v3x-programming-guidelines-stmicroelectronics.pdf">Bluetooth LE Stack v3.x Library programming guidelines (PM0269)</a>, <b>Bluetooth LE stack library APIs and events callbacks overview</b> section: it provides a detailed description of stack APIs and event callbacks framework, Bluetooth LE stack init and tick APIs. </li>
<li>
<a href="https://www.st.com/resource/en/programming_manual/dm00698052-bluetooth-le-stack-v3x-programming-guidelines-stmicroelectronics.pdf">Bluetooth LE Stack v3.x Library programming guidelines (PM0269)</a>, <b>How to design an application using the BlueNRGstack library APIs and events callbacks</b> section: it provides some common Bluetooth LE uses cases and the associated SW APIs workflow with parameters description. </li>
<li>
<a href="https://www.st.com/resource/en/programming_manual/dm00698052-bluetooth-le-stack-v3x-programming-guidelines-stmicroelectronics.pdf">Bluetooth LE Stack v3.x Library programming guidelines (PM0269)</a>, <b>Bluetooth LE stack library APIs and events callbacks overview</b> section: it provides a detailed description of stack APIs and event callbacks framework, Bluetooth LE stack init and tick APIs. </li>
<li>
Further, the following information are available: <ul>
<li>
<a href="../BlueNRG-LP_Periph_LL_Drivers/files.html">BlueNRG-LP/BlueNRG-LPS Peripheral LL Drivers html documentation </a> </li>
<li>
<a href="../BlueNRG-LP_Periph_HAL_Drivers/files.html">BlueNRG-LP/BlueNRG-LPS Peripheral HAL Drivers documentation </a> </li>
<li>
<a href="../BlueNRG-LP_Periph_LL_Examples/files.html">BlueNRG-LP/BlueNRG-LPS Peripheral LL Drivers Examples html documentation </a> </li>
<li>
<a href="../BlueNRG-LP_Periph_HAL_Examples/files.html">BlueNRG-LP/BlueNRG-LPS Peripheral HAL Drivers Examples html documentation </a> </li>
<li>
<a href="../BlueNRG-LP_sdk_drivers/files.html">SDK drivers documentation </a> </li>
<li>
<a href="../BlueNRG-LP_middlewares_hal_drivers/files.html">BlueNRG-LP/BlueNRG-LPS Middlewares documentation </a> </li>
</ul>
</li>
</ul>
</li>
</ul>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="Figure_7.png" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 18px; color:blue;"> Figure 7: BlueNRG-LP/BlueNRG-LPS Bluetooth LE Beacon IAR project example </b>  </td></tr>
</table>
<ul>
<li>NOTEs: <ul>
<li>
<a class="anchor" id="navigator"></a> BlueNRG-LP/BlueNRG-LPS navigator  provide direct access to each demonstration application project folder. </li>
<li>
The built binary application can be downloaded using the "drag and drop" mass storage upgrade capability </li>
<li>
Alternatively, it can also be downloaded using the <a class="anchor" id="flasher"></a> RF-Flasher  Utility application available on RF-Flasher SW package. </li>
<li>
This tool uses supports both UART mode (internal BlueNRG-LP/BlueNRG-LPS UART bootloader) and SWD mode (CMSIS-DAP) and it just requires a BlueNRG-LP/BlueNRG-LPS platform connected to a PC USB port (no external SWD programming tool interface is needed). </li>
</ul>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="Figure_8.png" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 18px; color:blue;"> Figure 8: RF-Flasher Utility: application programming example </b>  </td></tr>
</table>
</li>
</ul>
<h2><a class="anchor" id="S2_1_1"></a>
BlueNRG-LP/BlueNRG-LPS DK Bluetooth LE reference demonstration applications:</h2>
<ul>
<li>
<b>Bluetooth LE ANCS </b> application supporting the notification consumer profile role. </li>
<li>
<b>Bluetooth LE Beacon </b> application with also extended advertising, periodic advertising and AoA Tag configurations). </li>
<li>
<b>Bluetooth LE Beacon with Flash Management</b> application </li>
<li>
<b>Bluetooth LE Beacon with FreeRTOS</b> application </li>
<li>
<b>Bluetooth LE Serial Port Master &amp; Slave</b> application (single binary image for both GATT client and server role). </li>
<li>
<b>Bluetooth LE HID</b> keyboard and mouse applications. </li>
<li>
<b>Bluetooth LE Long Range </b> for showing LE Coded PHY feature. </li>
<li>
<b>Bluetooth LE Remote Control </b>example. </li>
<li>
<b>Bluetooth LE Controller Privacy</b> example. </li>
<li>
<b>Bluetooth LE Multiple Connection</b> example. </li>
<li>
<b>Bluetooth LE Security </b>application with Central and Peripeharal roles </li>
<li>
<b>Bluetooth LE Sensor Demo </b>application with acceleration and environmental sensors values (temperature &amp; pressure). </li>
<li>
<b>Bluetooth LE Sensor Demo for BlueMS </b>application with acceleration and environmental sensors values interacting with ST BLE Sensor smartphone app. </li>
<li>
<b>Bluetooth LE Sensor Demo Central </b> which interacts as Central device with the Bluetooth LE Sensor Demo and Bluetooth LE Sensor Demo for BlueMS peripheral devices </li>
<li>
<b>Bluetooth LE SerialPort </b> application with GATT client and server role emulating serial communication. </li>
<li>
<b>Bluetooth LE Throughput with Data Length Extension, 2 Mbps PHY, L2CAP-COS</b> application. </li>
<li>
<b>Bluetooth LE Power Consumption demo</b> application. </li>
<li>
<b>Bluetooth Low Energy Clock Synchronization demo</b> application. </li>
<li>
<b>Bluetooth Low Energy Power Control demo</b> application. </li>
<li>
<b>Bluetooth Low Energy Direction Finding demo (only for BlueNRG_LPS device)</b> application. </li>
<li>
<b>Bluetooth LE Sync demo &lt;/b which shows a simple clock synchronization example. </b></li>
</ul>
<p><b> </p><ul>
<li>Refer to the  <a href="../BLE_Examples/files.html">Bluetooth LE Demonstration application documentation </a> for more detailed information. </li>
<li>Bluetooth LE demonstration applications are also described on <a href="https://www.st.com/resource/en/user_manual/dm00711446-bluenrglp-development-kits-stmicroelectronics.pdf">BlueNRG-LP/BlueNRG-LPS development kit User Manual (UM2735)</a>. </li>
<li>Further, the Over The Air FW upgrade capability is supported on BlueNRG-LP/BlueNRG-LPS device: <ul>
<li>
<b>Bluetooth LE OTA Reset Manager </b> application for Bluetooth LE applications using OTA Service and related Characteristics. </li>
<li>
<b>Bluetooth LE OTA Service Manager </b> application which provides the OTA capability to any application without OTA Service and related Characteristics. </li>
<li>
Refer to <a href="https://www.st.com/resource/en/application_note/dm00691320-the-bluenrglp-ota-overtheair-firmware-upgrade-stmicroelectronics.pdf">The BlueNRG-LP, BlueNRG-LPS (over-the-air) firmware upgrade Application Note (AN5463)</a> for more detailed information. </li>
</ul>
</li>
</ul>
<p></b></p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
