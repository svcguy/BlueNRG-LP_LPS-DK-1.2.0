<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP/BlueNRG-LPS Bluetooth Low Energy Stack: BlueNRG-BLE Stack Library v_3_0 (10-July-2020)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP/BlueNRG-LPS Bluetooth Low Energy Stack
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BlueNRG-BLE Stack Library v_3_0 (10-July-2020) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="S1"></a>
Bluetooth Low Energy (LE) stack binary image files</h1>
<p>This section lists the Bluetooth LE Stack Library binary file to be used for the BlueNRG-LP Systems On Chip configuration: <br />
</p>
<ul>
<li>libbluenrglp_stack.a binary library <b>v3.0</b> with following main new features: <ul>
<li>
Bluetooth LE 5.x specification </li>
<li>
2Mbps PHY feature </li>
<li>
Long range feature (Coded PHY) </li>
<li>
Extended advertising and scanning feature </li>
<li>
GATT Robust Caching feature </li>
<li>
LE Ping procedure feature </li>
<li>
Connection robustness mechanism: <ul>
<li>
It allows to tolerate delayed execution of Radio ISR by skipping connection events but not dropping the connection.</li>
</ul>
</li>
<li>
Multiple/concurrent active links supported (tested up to 24) </li>
<li>
Link statistics feature </li>
<li>
New GATT layer framework and updated commands/events interface: <ul>
<li>
It allows to handle GATT attributes values directly into user application, leaving to the Bluetooth LE library the ownership of data-transfer only.</li>
</ul>
</li>
<li>
New GAP layer APIs for advertising, scanning and connection procedures </li>
<li>
LE L2CAP Connection-Oriented Channels feature </li>
<li>
Support and integration of the new Timer module external to Bluetooth LE Library </li>
<li>
Support and integration of the new NVM module external to to Bluetooth LE Library </li>
<li>
ATT Maximum Transmission Unit (MTU) size is 1020 octets. </li>
<li>
L2CAP Maximum Payload Size (MPS) size is 1024 octets. </li>
<li>
MISRA-C:2012 compliance </li>
<li>
Bluetooth LE stack modular configurations allowing to optimize Bluetooth LE stack memory footprints based on user application scenario </li>
</ul>
</li>
<li><b>NOTES</b>: <ul>
<li>
libbluenrg_lp_stack.a binary library file <b>v3.0</b> is available in folder: <b>Middlewares\ST\Bluetooth_LE\Library</b>. The binary file must be linked to the built user application in order to get access to the Bluetooth LE stack features. </li>
<li>
libbluenrg_lp_stack.a is valid for the following supported toolchains: IAR-EWARM, ARM Keil MDK. </li>
<li>
When adding libbluenrg_lp_stack.a on a Keil project, just change the related File Type to Library File (from file Options). </li>
<li>
Configuration files stack_user_cfg.[c/h] are used for enabling the Bluetooth LE stack v3.x modular approach </li>
<li>
AES CMAC encryption functionality required by Bluetooth LE stack v3.x is available on new standalone binary library: Middlewares\ST\cryptolib\cryptolib.a </li>
<li>
Vendor Specific Error Codes values have been updated in order to align to new BLE Standard Error Codes added by BLE Specifications v.5.2: <ul>
<li>
All ST BlueNRG-BLE Stack Library v2.x error codes from value 0x40 have been shifted forward, starting from value 0x80. </li>
<li>
The new values are defined in the ble_status.h file </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S10"></a>
Bluetooth LE stack modular configurations options</h2>
<ul>
<li>The following <b>BlueNRG-BLE Stack Library</b> modular configurations options are currently supported: <ol>
<li>
<b> BLE_STACK_FULL_CONF </b> &ndash;&gt; preprocessor option to be added on Bluetooth LE user application IDE toolchain, for configuring the Bluetooth LE stack with all supported modular features: <ul>
<li>
Controller Privacy is enabled </li>
<li>
LE Secure Connection is enabled </li>
<li>
Master role is enabled </li>
<li>
Data length extension is enabled </li>
<li>
LE 2M PHY, LE CODED PHY are enabled </li>
<li>
Extended Advertising is enabled </li>
<li>
LE L2CAP Connection-Oriented Channels is enabled </li>
</ul>
</li>
<li>
<b>BLE_STACK_BASIC_CONF</b> &ndash;&gt; preprocessor option to be added on Bluetooth LE user application IDE toolchain for configuring the Bluetooth LE stack with the basic configuration options: <ul>
<li>
Controller Privacy is disabled </li>
<li>
LE Secure Connection is disabled </li>
<li>
Master role is disabled (only Peripheral/Slave role is supported) </li>
<li>
Data length extension is disabled </li>
<li>
LE 2M PHY, LE CODED PHY are disabled </li>
<li>
Extended Advertising is disabled </li>
<li>
LE L2CAP Connection-Oriented Channels is disabled </li>
</ul>
</li>
<li>
<b>BLE_STACK_SLAVE_DLE_CONF </b> &ndash;&gt; preprocessor option to be added on Bluetooth LE user application IDE toolchain for selecting the OTA Service support with Data length extension: <ul>
<li>
Controller Privacy is disabled </li>
<li>
LE Secure Connections is disabled </li>
<li>
Master role is disabled (only Peripheral/Slave role is supported) </li>
<li>
Data length extension is enabled </li>
<li>
LE 2M PHY and LE CODED PHY are disabled </li>
<li>
Extended Advertising is disabled </li>
<li>
LE L2CAP Connection-Oriented Channels is disabled </li>
</ul>
</li>
</ol>
</li>
<li>NOTES: <ul>
<li>
<p class="startli">Files stack_user_cfg.[c/h] must not be modified by user.</p>
<p class="endli"></p>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="S11"></a>
Bluetooth Low Energy (LE) stack network coprocessor configuration</h1>
<ul>
<li>The following network coprocessor modes are supported when using BlueNRG GUI and DTM application: UART (mainly for RF evaluation purpose) and SPI. </li>
<li>DTM project and related workspaces provides reference applications for configuring the BlueNRG-LP platforms as a network coprocessor (refer to BlueNRG-LP DK Release notes documentation for more information).</li>
</ul>
<h1><a class="anchor" id="S12"></a>
New Features</h1>
<p>This section lists the new features compared to previous Bluetooth LE Stack Library<br />
</p>
<ul>
<li>Not applicable: first official release.</li>
</ul>
<ul>
<li>NOTES: <ul>
<li>
Refer to <a href="../BlueNRG-LP_BLE_stacks_migration/index.html">Bluetooth LE Stack v2.x to v3.x migration guideline html documentation </a> for information about how to port an application from BLE stack v2.x to v3.x and later. </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="S13"></a>
Solved Issues</h1>
<p>This section lists the solved issues compared to previous Bluetooth LE Stack Library v3_0</p>
<ul>
<li>Not applicable: first official release.</li>
</ul>
<h1><a class="anchor" id="S14"></a>
Limitations/Bugs</h1>
<p>This section lists the issues known at firmware image release time. Issues found after this release are listed as solved or limitations on newer releases. <br />
</p>
<ul>
<li>ID 603240: Extended/legacy advertising HCI commands usage check is not performed by the Bluetooth LE stack v3.0: no error is returned if an extended advertising command is given after a legacy command has been used (or vice versa). </li>
<li>ID 611316: No error returned if the ACI_GAP_SET_SCAN_CONFIGURATION command is issued with LE_Scan_Window &gt; LE_Scan_Interval. </li>
<li>ID 711566: Inconsistent GAP state when the autoconnection procedure is aborted and immediately restarted. </li>
<li>ID 1365: aci_gatt_srv_read_handle_value() API doesn't support client characteristic configuration descriptor: <ul>
<li>
The actual descriptor value is not returned.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="S15"></a>
Documentation</h1>
<ul>
<li>Refer to <a href="../BlueNRG-LP_aci_events/files.html">Bluetooth Low Energy (LE) API and events html documentation </a> for detailed description of Bluetooth LE stack APIs and related events callbacks. </li>
<li>Refer to <a href="../BlueNRG-LP_BLE_stacks_migration/index.html">Bluetooth LE stack migration guidelines from v2.x to v3.x html documentation </a> for guidelines about how to migrate applications from Bluetooth low energy stack v2.x to v3.x. </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
