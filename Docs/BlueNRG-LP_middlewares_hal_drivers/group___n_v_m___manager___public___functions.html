<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP/BlueNRG-LPS Middlewares APIs: Public Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP/BlueNRG-LPS Middlewares APIs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Public Functions<div class="ingroups"><a class="el" href="group___n_v_m___manager.html">NVM Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadb4f724d560ea63eea69eaf9ba4284d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#gadb4f724d560ea63eea69eaf9ba4284d5">NVMDB_Init</a> (void)</td></tr>
<tr class="memdesc:gadb4f724d560ea63eea69eaf9ba4284d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the NVM Manager.  <a href="#gadb4f724d560ea63eea69eaf9ba4284d5">More...</a><br /></td></tr>
<tr class="separator:gadb4f724d560ea63eea69eaf9ba4284d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a3074a9439cd6bc973d4c1ea6924287"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#ga3a3074a9439cd6bc973d4c1ea6924287">NVMDB_HandleInit</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga1c8aaf9fd7842d2eadb624a75efa3b6f">NVMDB_IdType</a> <a class="el" href="group___n_v_m___manager___private___functions.html#gae10bc33495f5ef8064eec48a0ba3a2ef">NVMDB_id</a>, <a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *handle_p)</td></tr>
<tr class="memdesc:ga3a3074a9439cd6bc973d4c1ea6924287"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the handle that points to the given database.  <a href="#ga3a3074a9439cd6bc973d4c1ea6924287">More...</a><br /></td></tr>
<tr class="separator:ga3a3074a9439cd6bc973d4c1ea6924287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0f48457f125dd24f80f51f0e01ae88f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#gaf0f48457f125dd24f80f51f0e01ae88f">NVMDB_ReadNextRecord</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *handle_p, uint8_t record_type, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> data_offset, uint8_t *data_p, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> max_size, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> *size_p)</td></tr>
<tr class="memdesc:gaf0f48457f125dd24f80f51f0e01ae88f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the next record in the database.  <a href="#gaf0f48457f125dd24f80f51f0e01ae88f">More...</a><br /></td></tr>
<tr class="separator:gaf0f48457f125dd24f80f51f0e01ae88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4502df12104eb60208087b5b21bd542"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#gae4502df12104eb60208087b5b21bd542">NVMDB_ReadCurrentRecord</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *handle_p, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> data_offset, uint8_t *data_p, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> max_size, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> *size_p)</td></tr>
<tr class="memdesc:gae4502df12104eb60208087b5b21bd542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the current record in the database.  <a href="#gae4502df12104eb60208087b5b21bd542">More...</a><br /></td></tr>
<tr class="separator:gae4502df12104eb60208087b5b21bd542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa95979f8433abb74f122676b9a6e0928"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#gaa95979f8433abb74f122676b9a6e0928">NVMDB_FindNextRecord</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *handle_p, uint8_t record_type, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> pattern_offset, const uint8_t *pattern_p, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> pattern_length, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> data_offset, uint8_t *data_p, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> max_size, <a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> *size_p)</td></tr>
<tr class="memdesc:gaa95979f8433abb74f122676b9a6e0928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find next record in the database that matches the given pattern.  <a href="#gaa95979f8433abb74f122676b9a6e0928">More...</a><br /></td></tr>
<tr class="separator:gaa95979f8433abb74f122676b9a6e0928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72623d5aa37e2f9dc1cfb1e4637a2bc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#ga72623d5aa37e2f9dc1cfb1e4637a2bc1">NVMDB_AppendRecord</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *handle_p, uint8_t record_type, uint16_t header_length, const void *header, uint16_t data_length, const void *data)</td></tr>
<tr class="memdesc:ga72623d5aa37e2f9dc1cfb1e4637a2bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a record in the database.  <a href="#ga72623d5aa37e2f9dc1cfb1e4637a2bc1">More...</a><br /></td></tr>
<tr class="separator:ga72623d5aa37e2f9dc1cfb1e4637a2bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2acb994ff752a81102b1a7c6a0c5f7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#gad2acb994ff752a81102b1a7c6a0c5f7a">NVMDB_DeleteRecord</a> (const <a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *handle_p)</td></tr>
<tr class="memdesc:gad2acb994ff752a81102b1a7c6a0c5f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a record.  <a href="#gad2acb994ff752a81102b1a7c6a0c5f7a">More...</a><br /></td></tr>
<tr class="separator:gad2acb994ff752a81102b1a7c6a0c5f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdb4349d0a68b6c7492cfc69433c031d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#gacdb4349d0a68b6c7492cfc69433c031d">NVMDB_Erase</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga1c8aaf9fd7842d2eadb624a75efa3b6f">NVMDB_IdType</a> <a class="el" href="group___n_v_m___manager___private___functions.html#gae10bc33495f5ef8064eec48a0ba3a2ef">NVMDB_id</a>)</td></tr>
<tr class="memdesc:gacdb4349d0a68b6c7492cfc69433c031d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase a database.  <a href="#gacdb4349d0a68b6c7492cfc69433c031d">More...</a><br /></td></tr>
<tr class="separator:gacdb4349d0a68b6c7492cfc69433c031d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39d68e49b8ffb4f4327acf82aa36d8d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#ga39d68e49b8ffb4f4327acf82aa36d8d9">NVMDB_CleanDB</a> (<a class="el" href="group___n_v_m___manager___exported___types.html#ga1c8aaf9fd7842d2eadb624a75efa3b6f">NVMDB_IdType</a> <a class="el" href="group___n_v_m___manager___private___functions.html#gae10bc33495f5ef8064eec48a0ba3a2ef">NVMDB_id</a>)</td></tr>
<tr class="memdesc:ga39d68e49b8ffb4f4327acf82aa36d8d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean the database.  <a href="#ga39d68e49b8ffb4f4327acf82aa36d8d9">More...</a><br /></td></tr>
<tr class="separator:ga39d68e49b8ffb4f4327acf82aa36d8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73be98397b0b98b0b6e7081a77cbb89c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_m___manager___public___functions.html#ga73be98397b0b98b0b6e7081a77cbb89c">NVMDB_Tick</a> (void)</td></tr>
<tr class="memdesc:ga73be98397b0b98b0b6e7081a77cbb89c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function performing maintenance operations.  <a href="#ga73be98397b0b98b0b6e7081a77cbb89c">More...</a><br /></td></tr>
<tr class="separator:ga73be98397b0b98b0b6e7081a77cbb89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga72623d5aa37e2f9dc1cfb1e4637a2bc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_AppendRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *&#160;</td>
          <td class="paramname"><em>handle_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>record_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>header_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a record in the database. </p>
<p>The record is added at the end of the database pointed by the given handle. </p><dl class="section note"><dt>Note</dt><dd>If the handle points to the last record in the database, the append operation is faster. </dd>
<dd>
A write or erase operation on the Flash prevents access to the Flash for a certain amount of time, potentially delaying execution of the time-critical radio interrupt service routine. Thus, it is checked that enough time is present before the next scheduled radio activity will start. If there is no enough time, this operation is scheduled. A cache is used to temporarily store the record.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">handle_p</td><td>Handle pointing to the database. It must have been previously initialized with NVMDB_HandleInit. If the function returns NVMDB_STATUS_OK, the handle points to the added record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the returned value is not NVMDB_STATUS_OK, the handle my points to any record in the database. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">record_type</td><td>One byte that can be used by the application to identify the type of record. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">header_length</td><td>Length of bytes in header. It must be a multible of 4. Set it to 0 if header is NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">header</td><td>Data to be stored at the beginning of the record. It can be used by the application to add an header to the record. The number of bytes must be a multiple of 4. Set it to NULL if no header has to be added to the record. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">header_length</td><td>Length of bytes in data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data to be stored inside the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01876">1876</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga39d68e49b8ffb4f4327acf82aa36d8d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_CleanDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga1c8aaf9fd7842d2eadb624a75efa3b6f">NVMDB_IdType</a>&#160;</td>
          <td class="paramname"><em>NVMDB_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean the database. </p>
<p>It reads the entire database and writes back only valid records.</p>
<dl class="section note"><dt>Note</dt><dd>Erase and write operations on the Flash prevents access to the Flash for a certain amount of time, potentially delaying execution of the time-critical radio interrupt service routine. Thus, it is checked that enough time is present before the next scheduled radio activity will start. If there is no enough time to clean a small DB, NVMDB_STATUS_NOT_ENOUGH_TIME is returned. In this case the operation should be retried again later. In case a clean operation is requested for a large DB, NVMDB_STATUS_NOT_ENOUGH_TIME is returned only if there is no time to write the first Flash page. If there is time to write this page, the other write an erase operations are scheduled. Scheduled operations are temporarily stored in cache. While a clean operation is scheduled in cache, no other operations are allowed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NVMDB_id</td><td>The ID of the record to be cleaned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l02139">2139</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad2acb994ff752a81102b1a7c6a0c5f7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_DeleteRecord </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *&#160;</td>
          <td class="paramname"><em>handle_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a record. </p>
<p>NVMDB_DeleteRecord deletes the record pointed by the given handle. Since the database is in Flash, the record is actually invalidated and cannot be read by other functions. A clean operation of the database definitively removes the record.</p>
<dl class="section note"><dt>Note</dt><dd>A write operation on the Flash prevents access to the Flash for a certain amount of time, potentially delaying execution of the time-critical radio interrupt service routine. Thus, it is checked that enough time is present before the next scheduled radio activity will start. If there is no enough time, this operation is scheduled. A cache is used to temporarily store the operation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">handle_p</td><td>Handle pointing to the record to be deleted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01975">1975</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacdb4349d0a68b6c7492cfc69433c031d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_Erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga1c8aaf9fd7842d2eadb624a75efa3b6f">NVMDB_IdType</a>&#160;</td>
          <td class="paramname"><em>NVMDB_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase a database. </p>
<p>NVMDB_Erase removes all the records from the database, bringing it back to the original state when no records have been written.</p>
<dl class="section note"><dt>Note</dt><dd>An erase operation on the Flash prevents access to the Flash for a certain amount of time, potentially delaying execution of the time-critical radio interrupt service routine. Thus, it is checked that enough time is present before the next scheduled radio activity will start. If there is no enough time, this operation is scheduled. A cache is used to temporarily store the operation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NVMDB_id</td><td>The ID of the record to be erased. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l02039">2039</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa95979f8433abb74f122676b9a6e0928"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_FindNextRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *&#160;</td>
          <td class="paramname"><em>handle_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>record_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>pattern_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pattern_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>pattern_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>data_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> *&#160;</td>
          <td class="paramname"><em>size_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find next record in the database that matches the given pattern. </p>
<p>NVMDB_FindNextRecord searches inside the database starting from the record pointed by the given handle. If the pattern is found starting from pattern_offset, the function returns NVMDB_STATUS_OK and the handle points to the found record. The value of the record can be retrieved by providing a buffer where data will be copied.</p>
<dl class="section note"><dt>Note</dt><dd>The handle is moved while searching inside the database.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">handle_p</td><td>Handle pointing to the database. It must have been previously initialized with NVMDB_HandleInit. After calling the function, the handle can be used again to search the pattern, starting from the next record. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">record_type</td><td>Type of the record to search for. This value is application-specific. Use ALL_TYPES to read every records, regardless of the type. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pattern_offset</td><td>Offset at which the pattern has to be located inside the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pattern_p</td><td>The pattern that has to be found inside the database. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pattern_length</td><td>Lenght of the pattern. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_offset</td><td>Offset inside the record from which data has to be copied. Normally it is set to 0. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_offset</td><td>Lenght of the pattern. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_p</td><td>Array in which data will be copied. If NULL, no data is copied. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_size</td><td>Size of the buffer pointed by data_p. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size_p</td><td>Size of the read record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01803">1803</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3a3074a9439cd6bc973d4c1ea6924287"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_HandleInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga1c8aaf9fd7842d2eadb624a75efa3b6f">NVMDB_IdType</a>&#160;</td>
          <td class="paramname"><em>NVMDB_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *&#160;</td>
          <td class="paramname"><em>handle_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the handle that points to the given database. </p>
<p>NVMDB_HandleInit has to be called before using functions that need an handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">NVMDB_id</td><td>ID of the database. This is a number that uniquely identifies the database. The IDs are decided when declaring the database structure through NVM_SMALL_DB_STATIC_INFO and NVM_LARGE_DB_STATIC_INFO variables. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle_p</td><td>Pointer to the handle to be initialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01705">1705</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadb4f724d560ea63eea69eaf9ba4284d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the NVM Manager. </p>
<p>Function to be called before using the library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01616">1616</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae4502df12104eb60208087b5b21bd542"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_ReadCurrentRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *&#160;</td>
          <td class="paramname"><em>handle_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>data_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> *&#160;</td>
          <td class="paramname"><em>size_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from the current record in the database. </p>
<p>Retrieve data from the current valid record in the database. Handle is not moved before retrieving the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">handle_p</td><td>Handle pointing to the database. It must have been previously initialized with NVMDB_HandleInit. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_offset</td><td>Offset inside the record from which data has to be copied. Normally it is set to 0. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_p</td><td>Array in which data will be copied. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_size</td><td>Size of the buffer pointed by data_p. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size_p</td><td>Size of the read record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01766">1766</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0f48457f125dd24f80f51f0e01ae88f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_ReadNextRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga43dfa48209b90d9fcee01963f2947243">NVMDB_HandleType</a> *&#160;</td>
          <td class="paramname"><em>handle_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>record_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>data_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a>&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_v_m___manager___exported___types.html#ga703973807a88cf78131108bb34ee05bf">NVMDB_RecordSizeType</a> *&#160;</td>
          <td class="paramname"><em>size_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from the next record in the database. </p>
<p>Retrieve data from the next valid record in the database. Each time NVMDB_ReadNextRecord is called, the handle is firstly moved forward in order to point to the next valid record in the database. Record data is copied into the provided buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">handle_p</td><td>Handle pointing to the database. It must have been previously initialized with NVMDB_HandleInit. After calling the function, the handle can be used again to read the next record. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">record_type</td><td>Type of the record. This value is application-specific. Use ALL_TYPES to read every records, regardless of the type. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_offset</td><td>Offset inside the record from which data has to be copied. Normally it is set to 0. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_p</td><td>Array in which data will be copied. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_size</td><td>Size of the buffer pointed by data_p. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size_p</td><td>Size of the read record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Indicates</td><td>if the function executed succesfully. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l01741">1741</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga73be98397b0b98b0b6e7081a77cbb89c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___n_v_m___manager___exported___types.html#gace42147f800109bcb158684fb537dc2a">NVMDB_status_t</a> NVMDB_Tick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function performing maintenance operations. </p>
<p>This function must be called periodically. Its main task is to perform scheduled operations.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returned</td><td>values is NVMDB_STATUS_OK if no other operations are scheduled. The value NVMDB_STATUS_NOT_ENOUGH_TIME indicates that some operations cannot be performed because there is not enough time. Other values indicates unexpected conditions of the database. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nvm__db_8c_source.html#l02168">2168</a> of file <a class="el" href="nvm__db_8c_source.html">nvm_db.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
