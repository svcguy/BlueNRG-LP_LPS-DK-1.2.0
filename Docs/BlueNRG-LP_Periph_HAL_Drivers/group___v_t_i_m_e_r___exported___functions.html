<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP/BlueNRG-LPS Peripherals HAL drivers APIs: VTIMER Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP/BlueNRG-LPS Peripherals HAL drivers APIs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">VTIMER Exported Functions<div class="ingroups"><a class="el" href="group___r_f___d_r_i_v_e_r___h_a_l___driver.html">RF_DRIVER_HAL_Driver</a> &raquo; <a class="el" href="group___v_t_i_m_e_r.html">VTIMER</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab70a77f7eaa518eb1105b68a6a2542f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gab70a77f7eaa518eb1105b68a6a2542f2">HAL_VTIMER_StartTimerMs</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle, uint32_t msRelTimeout)</td></tr>
<tr class="memdesc:gab70a77f7eaa518eb1105b68a6a2542f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a one-shot virtual timer for the given relative timeout value expressed in ms.  <a href="#gab70a77f7eaa518eb1105b68a6a2542f2">More...</a><br /></td></tr>
<tr class="separator:gab70a77f7eaa518eb1105b68a6a2542f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44f91bce3a1a14dd44b71bdacec9ad2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga44f91bce3a1a14dd44b71bdacec9ad2d">HAL_VTIMER_StopTimer</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle)</td></tr>
<tr class="memdesc:ga44f91bce3a1a14dd44b71bdacec9ad2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the one-shot virtual timer specified if found.  <a href="#ga44f91bce3a1a14dd44b71bdacec9ad2d">More...</a><br /></td></tr>
<tr class="separator:ga44f91bce3a1a14dd44b71bdacec9ad2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39d7a7564e22cdf700bf103576a84201"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga39d7a7564e22cdf700bf103576a84201">HAL_VTIMER_GetCurrentSysTime</a> (void)</td></tr>
<tr class="memdesc:ga39d7a7564e22cdf700bf103576a84201"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the current reference time expressed in system time units. The returned value can be used as absolute time parameter where needed in the other HAL_VTIMER* APIs.  <a href="#ga39d7a7564e22cdf700bf103576a84201">More...</a><br /></td></tr>
<tr class="separator:ga39d7a7564e22cdf700bf103576a84201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39958eaf296f761a1c8d5b7cc00193b7"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga39958eaf296f761a1c8d5b7cc00193b7">HAL_VTIMER_AddSysTimeMs</a> (uint64_t sysTime, int32_t msTime)</td></tr>
<tr class="memdesc:ga39958eaf296f761a1c8d5b7cc00193b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the sum of an absolute time and a signed relative time.  <a href="#ga39958eaf296f761a1c8d5b7cc00193b7">More...</a><br /></td></tr>
<tr class="separator:ga39958eaf296f761a1c8d5b7cc00193b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ea3ab9a8dba016b923fed5656982c87"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga4ea3ab9a8dba016b923fed5656982c87">HAL_VTIMER_DiffSysTimeMs</a> (uint64_t sysTime1, uint64_t sysTime2)</td></tr>
<tr class="memdesc:ga4ea3ab9a8dba016b923fed5656982c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the difference between two absolute times: sysTime1-sysTime2. The resulting value is expressed in ms.  <a href="#ga4ea3ab9a8dba016b923fed5656982c87">More...</a><br /></td></tr>
<tr class="separator:ga4ea3ab9a8dba016b923fed5656982c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13cf06d3aebe23c7d0bf4606c2e2ca5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga13cf06d3aebe23c7d0bf4606c2e2ca5f">HAL_VTIMER_StartTimerSysTime</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle, uint64_t time)</td></tr>
<tr class="memdesc:ga13cf06d3aebe23c7d0bf4606c2e2ca5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a one-shot virtual timer for the given absolute timeout value expressed in internal time units.  <a href="#ga13cf06d3aebe23c7d0bf4606c2e2ca5f">More...</a><br /></td></tr>
<tr class="separator:ga13cf06d3aebe23c7d0bf4606c2e2ca5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7fc50118cfd58188e041b074a91e43d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaf7fc50118cfd58188e041b074a91e43d">HAL_VTIMER_ExpiryTime</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle, uint64_t *sysTime)</td></tr>
<tr class="memdesc:gaf7fc50118cfd58188e041b074a91e43d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the absolute expiry time of a running timer expressed in internal time units.  <a href="#gaf7fc50118cfd58188e041b074a91e43d">More...</a><br /></td></tr>
<tr class="separator:gaf7fc50118cfd58188e041b074a91e43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed9b6ad8c982914c2b804700241b7e0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaed9b6ad8c982914c2b804700241b7e0b">HAL_VTIMER_Init</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga23c9080d3865a514041fe1f71d9cc673">HAL_VTIMER_InitType</a> *HAL_TIMER_InitStruct)</td></tr>
<tr class="memdesc:gaed9b6ad8c982914c2b804700241b7e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the timer module. It must be placed in the initialization section of the application.  <a href="#gaed9b6ad8c982914c2b804700241b7e0b">More...</a><br /></td></tr>
<tr class="separator:gaed9b6ad8c982914c2b804700241b7e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e0fa8ea7b066acf8f2299d2cb73ae19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga3e0fa8ea7b066acf8f2299d2cb73ae19">HAL_VTIMER_Tick</a> (void)</td></tr>
<tr class="memdesc:ga3e0fa8ea7b066acf8f2299d2cb73ae19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer module state machine. Check and schedule the calibration. Check expired timers and execute user callback. It must be placed inside the infinite loop.  <a href="#ga3e0fa8ea7b066acf8f2299d2cb73ae19">More...</a><br /></td></tr>
<tr class="separator:ga3e0fa8ea7b066acf8f2299d2cb73ae19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe0ad9f4b460d52199b37a7871ff7537"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gabe0ad9f4b460d52199b37a7871ff7537">HAL_VTIMER_SleepCheck</a> (void)</td></tr>
<tr class="memdesc:gabe0ad9f4b460d52199b37a7871ff7537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the consensus of the Virtual timer management to go in sleep.  <a href="#gabe0ad9f4b460d52199b37a7871ff7537">More...</a><br /></td></tr>
<tr class="separator:gabe0ad9f4b460d52199b37a7871ff7537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga340e1a2a0814d3cd0e4c424128a77b73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga340e1a2a0814d3cd0e4c424128a77b73">HAL_VTIMER_TimeoutCallback</a> (void)</td></tr>
<tr class="memdesc:ga340e1a2a0814d3cd0e4c424128a77b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual timer Timeout Callback. It signals that a host timeout occured.  <a href="#ga340e1a2a0814d3cd0e4c424128a77b73">More...</a><br /></td></tr>
<tr class="separator:ga340e1a2a0814d3cd0e4c424128a77b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1b0eae9d27248ee7a721ae32fc9b90c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gac1b0eae9d27248ee7a721ae32fc9b90c">HAL_VTIMER_WakeUpCallback</a> (void)</td></tr>
<tr class="memdesc:gac1b0eae9d27248ee7a721ae32fc9b90c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the wakeup timer triggers for a host wakeup, a pending radio activity is programmed. If the wakeup timer triggers for a radio activity, a pending virtual timer callback is executed.  <a href="#gac1b0eae9d27248ee7a721ae32fc9b90c">More...</a><br /></td></tr>
<tr class="separator:gac1b0eae9d27248ee7a721ae32fc9b90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57a0ed22841524238fa069e90858a3d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga57a0ed22841524238fa069e90858a3d5">HAL_VTIMER_RadioTimerIsr</a> (void)</td></tr>
<tr class="memdesc:ga57a0ed22841524238fa069e90858a3d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Radio activity finished.  <a href="#ga57a0ed22841524238fa069e90858a3d5">More...</a><br /></td></tr>
<tr class="separator:ga57a0ed22841524238fa069e90858a3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2eefabbf7064ede9a8b826e8e38ddddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga2eefabbf7064ede9a8b826e8e38ddddf">HAL_VTIMER_EndOfRadioActivityIsr</a> (void)</td></tr>
<tr class="memdesc:ga2eefabbf7064ede9a8b826e8e38ddddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer State machine semaphore to signal the radio activity finished.  <a href="#ga2eefabbf7064ede9a8b826e8e38ddddf">More...</a><br /></td></tr>
<tr class="separator:ga2eefabbf7064ede9a8b826e8e38ddddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cad075d6ec15937f981dc558823047e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga9cad075d6ec15937f981dc558823047e">HAL_VTIMER_GetPendingTimers</a> (void)</td></tr>
<tr class="memdesc:ga9cad075d6ec15937f981dc558823047e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of timers in the queue.  <a href="#ga9cad075d6ec15937f981dc558823047e">More...</a><br /></td></tr>
<tr class="separator:ga9cad075d6ec15937f981dc558823047e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf748b6465023dc93f8b0e59c04bbbc5c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaf748b6465023dc93f8b0e59c04bbbc5c">HAL_VTIMER_SetRadioTimerValue</a> (uint32_t time, uint8_t event_type, uint8_t cal_req)</td></tr>
<tr class="memdesc:gaf748b6465023dc93f8b0e59c04bbbc5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a radio activity for the given absolute timeout value expressed in STU. If the calibration of the low speed oscillator is needed, if it is possible, the radio timer will be programmed with the latest calibration data.  <a href="#gaf748b6465023dc93f8b0e59c04bbbc5c">More...</a><br /></td></tr>
<tr class="separator:gaf748b6465023dc93f8b0e59c04bbbc5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef9d6a69a3861fdcfdfe66cbda2c8814"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaef9d6a69a3861fdcfdfe66cbda2c8814">HAL_VTIMER_StopRadioTimer2</a> (void)</td></tr>
<tr class="memdesc:gaef9d6a69a3861fdcfdfe66cbda2c8814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable Timer2.  <a href="#gaef9d6a69a3861fdcfdfe66cbda2c8814">More...</a><br /></td></tr>
<tr class="separator:gaef9d6a69a3861fdcfdfe66cbda2c8814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0965cae5f5c6c3509fbfedc0f97622ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga506797a0f088c9be2b06772066d5fcda">TimerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga0965cae5f5c6c3509fbfedc0f97622ff">HAL_VTIMER_GetRadioTimerValue</a> (uint64_t *time)</td></tr>
<tr class="memdesc:ga0965cae5f5c6c3509fbfedc0f97622ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the status of the radio timer. The timeout of the last radio timer activity taken into account by the Timer Module is saved in the variable passed as parameter.  <a href="#ga0965cae5f5c6c3509fbfedc0f97622ff">More...</a><br /></td></tr>
<tr class="separator:ga0965cae5f5c6c3509fbfedc0f97622ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1d46c043469b27286d3583cffa1e894"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gae1d46c043469b27286d3583cffa1e894">HAL_VTIMER_ClearRadioTimerValue</a> (void)</td></tr>
<tr class="memdesc:gae1d46c043469b27286d3583cffa1e894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the last radio activity scheduled disabling the radio timers too. Furthermore, it returns if the timeout is too close with respect the current time and the radio activity might not be cleared in time.  <a href="#gae1d46c043469b27286d3583cffa1e894">More...</a><br /></td></tr>
<tr class="separator:gae1d46c043469b27286d3583cffa1e894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8a3825461350990147c342fb0eab229"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gad8a3825461350990147c342fb0eab229">HAL_VTIMER_GetAnchorPoint</a> (void)</td></tr>
<tr class="memdesc:gad8a3825461350990147c342fb0eab229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last anchorPoint in system time unit.  <a href="#gad8a3825461350990147c342fb0eab229">More...</a><br /></td></tr>
<tr class="separator:gad8a3825461350990147c342fb0eab229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8721ff9b8916b48453993436c2e1a484"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rf__driver__hal__power__manager_8h.html#add9f92e98a807cfb0e333c872ef9efcf">PowerSaveLevels</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga8721ff9b8916b48453993436c2e1a484">HAL_VTIMER_PowerSaveLevelCheck</a> (<a class="el" href="rf__driver__hal__power__manager_8h.html#add9f92e98a807cfb0e333c872ef9efcf">PowerSaveLevels</a> level)</td></tr>
<tr class="memdesc:ga8721ff9b8916b48453993436c2e1a484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the admitted sleep mode according to the next timer activity.  <a href="#ga8721ff9b8916b48453993436c2e1a484">More...</a><br /></td></tr>
<tr class="separator:ga8721ff9b8916b48453993436c2e1a484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga39958eaf296f761a1c8d5b7cc00193b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t HAL_VTIMER_AddSysTimeMs </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sysTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>msTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the sum of an absolute time and a signed relative time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sysTime</td><td>Absolute time expressed in internal time units. </td></tr>
    <tr><td class="paramname">msTime</td><td>Signed relative time expressed in ms. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>64bit resulting absolute time expressed in internal time units. </dd></dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00718">718</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae1d46c043469b27286d3583cffa1e894"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_VTIMER_ClearRadioTimerValue </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the last radio activity scheduled disabling the radio timers too. Furthermore, it returns if the timeout is too close with respect the current time and the radio activity might not be cleared in time. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the radio activity has been cleared successfully. </td></tr>
    <tr><td class="paramname">1</td><td>if it is too late to clear the last radio activity. </td></tr>
    <tr><td class="paramname">2</td><td>if it might not be possible to clear the last radio activity. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00474">474</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4ea3ab9a8dba016b923fed5656982c87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t HAL_VTIMER_DiffSysTimeMs </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sysTime1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sysTime2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the difference between two absolute times: sysTime1-sysTime2. The resulting value is expressed in ms. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sysTime2</td><td>Absolute time expressed in internal time units. </td></tr>
    <tr><td class="paramname">sysTime1</td><td>Absolute time expressed in internal time units. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resulting signed relative time expressed in ms. </dd></dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00731">731</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2eefabbf7064ede9a8b826e8e38ddddf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_EndOfRadioActivityIsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer State machine semaphore to signal the radio activity finished. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00563">563</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7fc50118cfd58188e041b074a91e43d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_VTIMER_ExpiryTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>sysTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the absolute expiry time of a running timer expressed in internal time units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">sysTime</td><td>Absolute time expressed in internal time units. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00741">741</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad8a3825461350990147c342fb0eab229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t HAL_VTIMER_GetAnchorPoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last anchorPoint in system time unit. </p>
<dl class="section return"><dt>Returns</dt><dd>TimerCapture register in system time unit. </dd></dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00675">675</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga39d7a7564e22cdf700bf103576a84201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t HAL_VTIMER_GetCurrentSysTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the current reference time expressed in system time units. The returned value can be used as absolute time parameter where needed in the other HAL_VTIMER* APIs. </p>
<dl class="section return"><dt>Returns</dt><dd>absolute current time expressed in system time units. </dd></dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00707">707</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9cad075d6ec15937f981dc558823047e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t HAL_VTIMER_GetPendingTimers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of timers in the queue. </p>
<dl class="section return"><dt>Returns</dt><dd>number of timers in the queue. </dd></dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00751">751</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0965cae5f5c6c3509fbfedc0f97622ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga506797a0f088c9be2b06772066d5fcda">TimerStatus</a> HAL_VTIMER_GetRadioTimerValue </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the status of the radio timer. The timeout of the last radio timer activity taken into account by the Timer Module is saved in the variable passed as parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>Pointer of the variable where the time of the last radio activity scheduled is stored The time is expressed in STU. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if no radio timer is pending. </td></tr>
    <tr><td class="paramname">1</td><td>if a radio timer is pending. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00457">457</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaed9b6ad8c982914c2b804700241b7e0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga23c9080d3865a514041fe1f71d9cc673">HAL_VTIMER_InitType</a> *&#160;</td>
          <td class="paramname"><em>HAL_TIMER_InitStruct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the timer module. It must be placed in the initialization section of the application. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00767">767</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8721ff9b8916b48453993436c2e1a484"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rf__driver__hal__power__manager_8h.html#add9f92e98a807cfb0e333c872ef9efcf">PowerSaveLevels</a> HAL_VTIMER_PowerSaveLevelCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rf__driver__hal__power__manager_8h.html#add9f92e98a807cfb0e333c872ef9efcf">PowerSaveLevels</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the admitted sleep mode according to the next timer activity. </p>
<dl class="section return"><dt>Returns</dt><dd>Sleep mode </dd></dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00896">896</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga57a0ed22841524238fa069e90858a3d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_RadioTimerIsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Radio activity finished. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00572">572</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf748b6465023dc93f8b0e59c04bbbc5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_VTIMER_SetRadioTimerValue </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>event_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cal_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules a radio activity for the given absolute timeout value expressed in STU. If the calibration of the low speed oscillator is needed, if it is possible, the radio timer will be programmed with the latest calibration data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>Absolute time expressed in STU. </td></tr>
    <tr><td class="paramname">event_type</td><td>Specify if it is a TX (1) or RX (0) event. </td></tr>
    <tr><td class="paramname">cal_req</td><td>Specify if PLL calibration is requested (1) or not (0). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if radio activity has been scheduled succesfully. </td></tr>
    <tr><td class="paramname">1</td><td>if radio activity has been rejected (it is too close or in the past). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00624">624</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabe0ad9f4b460d52199b37a7871ff7537"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HAL_VTIMER_SleepCheck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the consensus of the Virtual timer management to go in sleep. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>if all vtimers have been served and the calibration procedure has already finished. </td></tr>
    <tr><td class="paramname">FALSE</td><td>if the vtimer Tick is still busy. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00956">956</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab70a77f7eaa518eb1105b68a6a2542f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_VTIMER_StartTimerMs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msRelTimeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a one-shot virtual timer for the given relative timeout value expressed in ms. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">msRelTimeout</td><td>The relative time, from current time, expressed in ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the timerHandle is valid. </td></tr>
    <tr><td class="paramname">1</td><td>if the timerHandle is not valid. It is already started. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00605">605</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga13cf06d3aebe23c7d0bf4606c2e2ca5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_VTIMER_StartTimerSysTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a one-shot virtual timer for the given absolute timeout value expressed in internal time units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">time</td><td>Absolute time expressed in STU. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the timerHandle is valid. </td></tr>
    <tr><td class="paramname">1</td><td>if the timerHandle is not valid. It is already started. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00590">590</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaef9d6a69a3861fdcfdfe66cbda2c8814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_StopRadioTimer2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable Timer2. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00512">512</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga44f91bce3a1a14dd44b71bdacec9ad2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_StopTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the one-shot virtual timer specified if found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00685">685</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e0fa8ea7b066acf8f2299d2cb73ae19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_Tick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer module state machine. Check and schedule the calibration. Check expired timers and execute user callback. It must be placed inside the infinite loop. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00815">815</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga340e1a2a0814d3cd0e4c424128a77b73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_TimeoutCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Virtual timer Timeout Callback. It signals that a host timeout occured. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00545">545</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac1b0eae9d27248ee7a721ae32fc9b90c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_WakeUpCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the wakeup timer triggers for a host wakeup, a pending radio activity is programmed. If the wakeup timer triggers for a radio activity, a pending virtual timer callback is executed. </p>
<dl class="section warning"><dt>Warning</dt><dd>To be considered only if HOST_WAKEUP_FIX_ENABLE is 1. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rf__driver__hal__vtimer_8c_source.html#l00523">523</a> of file <a class="el" href="rf__driver__hal__vtimer_8c_source.html">rf_driver_hal_vtimer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
