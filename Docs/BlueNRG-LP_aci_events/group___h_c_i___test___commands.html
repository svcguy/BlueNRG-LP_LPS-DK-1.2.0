<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-BLE Stack Library APIs, events callbacks &amp; application framework: HCI Test Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-BLE Stack Library APIs, events callbacks &amp; application framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HCI Test Commands</div>  </div>
</div><!--header-->
<div class="contents">

<p>Standard HCI commands for testing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaef44bd31c986a61336642b7ed9850b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#gaaef44bd31c986a61336642b7ed9850b8">hci_le_receiver_test</a> (uint8_t RX_Frequency)</td></tr>
<tr class="memdesc:gaaef44bd31c986a61336642b7ed9850b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT receives test reference packets at a fixed interval. The tester generates the test reference packets. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.8.28)  <a href="#gaaef44bd31c986a61336642b7ed9850b8">More...</a><br /></td></tr>
<tr class="separator:gaaef44bd31c986a61336642b7ed9850b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef0dac0026aad398b4c508e1b7a0f5a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#gaef0dac0026aad398b4c508e1b7a0f5a2">hci_le_transmitter_test</a> (uint8_t TX_Frequency, uint8_t Length_Of_Test_Data, uint8_t Packet_Payload)</td></tr>
<tr class="memdesc:gaef0dac0026aad398b4c508e1b7a0f5a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at maximum power. An LE Controller supporting the LE_Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller may support other values of Packet_Payload. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.8.29)  <a href="#gaef0dac0026aad398b4c508e1b7a0f5a2">More...</a><br /></td></tr>
<tr class="separator:gaef0dac0026aad398b4c508e1b7a0f5a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0091c01b705edc41999aac607769b76e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#ga0091c01b705edc41999aac607769b76e">hci_le_test_end</a> (uint16_t *Number_Of_Packets)</td></tr>
<tr class="memdesc:ga0091c01b705edc41999aac607769b76e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to stop any test which is in progress. The Number_Of_Packets for a transmitter test shall be reported as 0x0000. The Number_Of_Packets is an unsigned number and contains the number of received packets. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.8.30)  <a href="#ga0091c01b705edc41999aac607769b76e">More...</a><br /></td></tr>
<tr class="separator:ga0091c01b705edc41999aac607769b76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga277ca97f02be61730e03237d292804e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#ga277ca97f02be61730e03237d292804e2">hci_le_enhanced_receiver_test</a> (uint8_t RX_Channel, uint8_t PHY, uint8_t Modulation_index)</td></tr>
<tr class="memdesc:ga277ca97f02be61730e03237d292804e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT receives test reference packets at a fixed interval. The tester generates the test reference packets.  <a href="#ga277ca97f02be61730e03237d292804e2">More...</a><br /></td></tr>
<tr class="separator:ga277ca97f02be61730e03237d292804e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56fbbbbc3474d507f637e0b5a24ad984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#ga56fbbbbc3474d507f637e0b5a24ad984">hci_le_enhanced_transmitter_test</a> (uint8_t TX_Channel, uint8_t Length_Of_Test_Data, uint8_t Packet_Payload, uint8_t PHY)</td></tr>
<tr class="memdesc:ga56fbbbbc3474d507f637e0b5a24ad984"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at maximum power. An LE Controller supporting the LE_Enhanced Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller supporting the LE Coded PHY shall also support Packet_Payload value 0x04. An LE Controller may support other values of Packet_Payload.  <a href="#ga56fbbbbc3474d507f637e0b5a24ad984">More...</a><br /></td></tr>
<tr class="separator:ga56fbbbbc3474d507f637e0b5a24ad984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fd834f5cd2013d52b83d174f63eef90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#ga3fd834f5cd2013d52b83d174f63eef90">hci_le_receiver_test_v3</a> (uint8_t RX_Channel, uint8_t PHY, uint8_t Modulation_Index, uint8_t Expected_CTE_Length, uint8_t Expected_CTE_Type, uint8_t Slot_Durations, uint8_t Switching_Pattern_Length, uint8_t Antenna_IDs[])</td></tr>
<tr class="memdesc:ga3fd834f5cd2013d52b83d174f63eef90"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT receives test reference packets at a fixed interval. The tester generates the test reference packets. The RX_Channel and PHY parameters specify the RF channel and PHY to be used by the receiver. If the Host sets the PHY parameter to a PHY that the Controller does not support, including a value that is reserved for future use, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). The Modulation_Index parameter specifies whether or not the Controller should assume the receiver has a stable modulation index. The Expected_CTE_Length and Expected_CTE_Type parameters specify the expected length and type of the Constant Tone Extensions in received test reference packets. When receiving on a PHY that allows Constant Tone Extensions, if the Constant Tone Extension in a received test reference packet does not match both of these, the DUT shall discard that packet. If Expected_CTE_Length is not zero and PHY specifies a PHY that does not allow Constant Tone Extensions, the Controller shall return the error code Command Disallowed (0x0C). If the Slot_Durations parameter is set to 0x01 and the Controller does not support 1 microsecond switching and sampling, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). Slot_Durations, Switching_Pattern_Length, and Antenna_IDs[i] are only used when expecting an AoA Constant Tone Extension and shall be ignored when expecting an AoD Constant Tone Extension. If the Controller determines that any of the Antenna_IDs[i] values do not identify an antenna in the device's antenna array, it shall return the error code Unsupported Feature or Parameter Value (0x11). Note: Some Controllers may be unable to determine which values do or do not identify an antenna.  <a href="#ga3fd834f5cd2013d52b83d174f63eef90">More...</a><br /></td></tr>
<tr class="separator:ga3fd834f5cd2013d52b83d174f63eef90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44a2b9220f1949b4b5d0b3d19d994143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#ga44a2b9220f1949b4b5d0b3d19d994143">hci_le_transmitter_test_v3</a> (uint8_t TX_Channel, uint8_t Test_Data_Length, uint8_t Packet_Payload, uint8_t PHY, uint8_t CTE_Length, uint8_t CTE_Type, uint8_t Switching_Pattern_Length, uint8_t Antenna_IDs[])</td></tr>
<tr class="memdesc:ga44a2b9220f1949b4b5d0b3d19d994143"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at the power level indicated by the Transmit_Power_Level parameter. The TX_Channel and PHY parameters specify the RF channel and PHY to be used by the transmitter. If the Host sets the PHY parameter to a PHY that the Controller does not support, including a value that is reserved for future use, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). The Test_Data_Length and Packet_Payload parameters specify the length and contents of the Payload of the test reference packets. An LE Controller supporting the HCI_LE_Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller supporting the LE Coded PHY shall also support Packet_Payload value 0x04. An LE Controller may support other values of Packet_Payload. The CTE_Length and CTE_Type parameters specify the length and type of the Constant Tone Extension in the test reference packets. If the CTE_Type parameter is set to 0x01 and the Controller does not support 1 microsecond switching, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). If CTE_Length is not zero and PHY specifies a PHY that does not allow Constant Tone Extensions, the Controller shall return the error code Command Disallowed (0x0C). The Switching_Pattern_Length and Antenna_IDs[i] parameters specify the antenna switching pattern. They are only used when transmitting an AoD Constant Tone Extension and shall be ignored when transmitting an AoA Constant Tone Extension. If the Controller determines that any of the Antenna_IDs[i] values do not identify an antenna in the device's antenna array, it shall return the error code Unsupported Feature or Parameter Value (0x11). Note: Some Controllers may be unable to determine which values do or do not identify an antenna. The Transmit_Power_Level parameter specifies the transmit power level to be used by the transmitter. If the parameter is set to a value other than 0x7E or 0x7F, then the Controller shall make the requested change or shall make the nearest change that it is capable of doing.  <a href="#ga44a2b9220f1949b4b5d0b3d19d994143">More...</a><br /></td></tr>
<tr class="separator:ga44a2b9220f1949b4b5d0b3d19d994143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c52f583ebd967699f652dca335254ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_c_i___test___commands.html#ga9c52f583ebd967699f652dca335254ac">hci_le_transmitter_test_v4</a> (uint8_t TX_Channel, uint8_t Test_Data_Length, uint8_t Packet_Payload, uint8_t PHY, uint8_t CTE_Length, uint8_t CTE_Type, uint8_t Switching_Pattern_Length, uint8_t Antenna_IDs[], int8_t Transmit_Power_Level)</td></tr>
<tr class="memdesc:ga9c52f583ebd967699f652dca335254ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at the power level indicated by the Transmit_Power_Level parameter. The TX_Channel and PHY parameters specify the RF channel and PHY to be used by the transmitter. If the Host sets the PHY parameter to a PHY that the Controller does not support, including a value that is reserved for future use, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). The Test_Data_Length and Packet_Payload parameters specify the length and contents of the Payload of the test reference packets. An LE Controller supporting the HCI_LE_Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller supporting the LE Coded PHY shall also support Packet_Payload value 0x04. An LE Controller may support other values of Packet_Payload. The CTE_Length and CTE_Type parameters specify the length and type of the Constant Tone Extension in the test reference packets. If the CTE_Type parameter is set to 0x01 and the Controller does not support 1 microsecond switching, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). If CTE_Length is not zero and PHY specifies a PHY that does not allow Constant Tone Extensions, the Controller shall return the error code Command Disallowed (0x0C). The Switching_Pattern_Length and Antenna_IDs[i] parameters specify the antenna switching pattern. They are only used when transmitting an AoD Constant Tone Extension and shall be ignored when transmitting an AoA Constant Tone Extension. If the Controller determines that any of the Antenna_IDs[i] values do not identify an antenna in the device's antenna array, it shall return the error code Unsupported Feature or Parameter Value (0x11). Note: Some Controllers may be unable to determine which values do or do not identify an antenna. The Transmit_Power_Level parameter specifies the transmit power level to be used by the transmitter. If the parameter is set to a value other than 0x7E or 0x7F, then the Controller shall make the requested change or shall make the nearest change that it is capable of doing.  <a href="#ga9c52f583ebd967699f652dca335254ac">More...</a><br /></td></tr>
<tr class="separator:ga9c52f583ebd967699f652dca335254ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Standard HCI commands for testing. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga277ca97f02be61730e03237d292804e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_enhanced_receiver_test </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>RX_Channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PHY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Modulation_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT receives test reference packets at a fixed interval. The tester generates the test reference packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RX_Channel</td><td>Frequency Range : 2402 MHz to 2480 MHz N = (F - 2402) / 2. Values:<ul>
<li>0x00 ... 0x27: Frequency Range : 2402 MHz to 2480 MHz </li>
</ul>
</td></tr>
    <tr><td class="paramname">PHY</td><td>PHY to be used by the receiver. Values:<ul>
<li>0x01: LE_1M_PHY</li>
<li>0x02: LE_2M_PHY</li>
<li>0x03: LE_CODED_PHY </li>
</ul>
</td></tr>
    <tr><td class="paramname">Modulation_index</td><td>The Modulation_Index parameter specifies whether or not the Controller should assume the receiver has a stable modulation index. Values:<ul>
<li>0x00: Standard modulation index</li>
<li>0x01: Stable modulation index </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga56fbbbbc3474d507f637e0b5a24ad984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_enhanced_transmitter_test </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>TX_Channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Length_Of_Test_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Packet_Payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PHY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at maximum power. An LE Controller supporting the LE_Enhanced Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller supporting the LE Coded PHY shall also support Packet_Payload value 0x04. An LE Controller may support other values of Packet_Payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TX_Channel</td><td>Frequency Range: 2402 MHz to 2480 MHz N = (F-2402) / 2 Values:<ul>
<li>0x00 ... 0x27: Frequency Range: 2402 MHz to 2480 MHz </li>
</ul>
</td></tr>
    <tr><td class="paramname">Length_Of_Test_Data</td><td>Values:<ul>
<li>0x00 ... 0xFF: Length in bytes of payload data in each packet </li>
</ul>
</td></tr>
    <tr><td class="paramname">Packet_Payload</td><td>Content of the Payload of the test reference packets. 0: PRBS9 sequence '11111111100000111101...' (in transmission order) 1: Repeated '11110000' (in transmission order) sequence 2: Repeated '10101010' (in transmission order) sequence 3: PRBS15 sequence 4: Repeated '11111111' (in transmission order) sequence 5: Repeated '00000000' (in transmission order) sequence 6: Repeated '00001111' (in transmission order) sequence 7: Repeated '01010101' (in transmission order) sequence Values:<ul>
<li>0x00: PRBS9</li>
<li>0x01: Repeated '11110000'</li>
<li>0x02: Repeated '10101010'</li>
<li>0x03: PRBS15</li>
<li>0x04: Repeated '11111111'</li>
<li>0x05: Repeated '00000000'</li>
<li>0x06: Repeated '00001111'</li>
<li>0x07: Repeated '01010101' </li>
</ul>
</td></tr>
    <tr><td class="paramname">PHY</td><td>PHY to be used by the transmitter. Values:<ul>
<li>0x01: LE_1M_PHY</li>
<li>0x02: LE_2M_PHY</li>
<li>0x03: LE_CODED_PHY_S8</li>
<li>0x04: LE_CODED_PHY_S2 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaaef44bd31c986a61336642b7ed9850b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_receiver_test </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>RX_Frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT receives test reference packets at a fixed interval. The tester generates the test reference packets. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.8.28) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RX_Frequency</td><td>Values:<ul>
<li>0x00 ... 0x27: N = (F - 2402) / 2.Frequency Range : 2402 MHz to 2480 MHz </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3fd834f5cd2013d52b83d174f63eef90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_receiver_test_v3 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>RX_Channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PHY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Modulation_Index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Expected_CTE_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Expected_CTE_Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Slot_Durations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Switching_Pattern_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Antenna_IDs</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT receives test reference packets at a fixed interval. The tester generates the test reference packets. The RX_Channel and PHY parameters specify the RF channel and PHY to be used by the receiver. If the Host sets the PHY parameter to a PHY that the Controller does not support, including a value that is reserved for future use, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). The Modulation_Index parameter specifies whether or not the Controller should assume the receiver has a stable modulation index. The Expected_CTE_Length and Expected_CTE_Type parameters specify the expected length and type of the Constant Tone Extensions in received test reference packets. When receiving on a PHY that allows Constant Tone Extensions, if the Constant Tone Extension in a received test reference packet does not match both of these, the DUT shall discard that packet. If Expected_CTE_Length is not zero and PHY specifies a PHY that does not allow Constant Tone Extensions, the Controller shall return the error code Command Disallowed (0x0C). If the Slot_Durations parameter is set to 0x01 and the Controller does not support 1 microsecond switching and sampling, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). Slot_Durations, Switching_Pattern_Length, and Antenna_IDs[i] are only used when expecting an AoA Constant Tone Extension and shall be ignored when expecting an AoD Constant Tone Extension. If the Controller determines that any of the Antenna_IDs[i] values do not identify an antenna in the device's antenna array, it shall return the error code Unsupported Feature or Parameter Value (0x11). Note: Some Controllers may be unable to determine which values do or do not identify an antenna. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RX_Channel</td><td>Values:<ul>
<li>0x00 ... 0x27: N = (F - 2402) / 2.Frequency Range : 2402 MHz to 2480 MHz </li>
</ul>
</td></tr>
    <tr><td class="paramname">PHY</td><td>PHY to be used by the receiver. Values:<ul>
<li>0x01: LE_1M_PHY</li>
<li>0x02: LE_2M_PHY</li>
<li>0x03: LE_CODED_PHY </li>
</ul>
</td></tr>
    <tr><td class="paramname">Modulation_Index</td><td>Values:<ul>
<li>0x00: Assume transmitter will have a standard modulation index</li>
<li>0x01: Assume transmitter will have a stable modulation index </li>
</ul>
</td></tr>
    <tr><td class="paramname">Expected_CTE_Length</td><td>Values:<ul>
<li>0x00: No Constant Tone Extension expected (default)</li>
<li>0x02 ... 0x14: Expected length of the Constant Tone Extension in 8 microseconds units. </li>
</ul>
</td></tr>
    <tr><td class="paramname">Expected_CTE_Type</td><td>Values:<ul>
<li>0x00: Expect AoA Constant Tone Extension</li>
<li>0x01: Expect AoD Constant Tone Extension with 1 microsecond slots</li>
<li>0x02: Expect AoD Constant Tone Extension with 2 microseconds slots </li>
</ul>
</td></tr>
    <tr><td class="paramname">Slot_Durations</td><td>Sampling rate used by the Controller. Values:<ul>
<li>0x01: CTE_SLOT_1us</li>
<li>0x02: CTE_SLOT_2us </li>
</ul>
</td></tr>
    <tr><td class="paramname">Switching_Pattern_Length</td><td>Values:<ul>
<li>0x02 ... 0x4B: The number of Antenna IDs in the pattern. </li>
</ul>
</td></tr>
    <tr><td class="paramname">Antenna_IDs</td><td>List of Antenna IDs in the pattern </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0091c01b705edc41999aac607769b76e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_test_end </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>Number_Of_Packets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to stop any test which is in progress. The Number_Of_Packets for a transmitter test shall be reported as 0x0000. The Number_Of_Packets is an unsigned number and contains the number of received packets. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.8.30) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Number_Of_Packets</td><td>Number of packets received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaef0dac0026aad398b4c508e1b7a0f5a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_transmitter_test </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>TX_Frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Length_Of_Test_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Packet_Payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at maximum power. An LE Controller supporting the LE_Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller may support other values of Packet_Payload. (See Bluetooth Specification v.4.1, Vol. 2, Part E, 7.8.29) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TX_Frequency</td><td>N = (F - 2402) / 2. Frequency Range : 2402 MHz to 2480 MHz Values:<ul>
<li>0x00 ... 0x27 </li>
</ul>
</td></tr>
    <tr><td class="paramname">Length_Of_Test_Data</td><td>Length in bytes of payload data in each packet. Supported ranges: - (0x00,0x25): BlueNRG-1 and BlueNRG-2 with BLE stack version &lt; 2.1 - (0x00,0xFF): BlueNRG-2 with BLE stack version &gt;= 2.1 and extended packet length. Values:<ul>
<li>0x00 ... 0xFF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Packet_Payload</td><td>Content of the Payload of the test reference packets. 0: PRBS9 sequence '11111111100000111101...' (in transmission order) 1: Repeated '11110000' (in transmission order) sequence 2: Repeated '10101010' (in transmission order) sequence 3: PRBS15 sequence 4: Repeated '11111111' (in transmission order) sequence 5: Repeated '00000000' (in transmission order) sequence 6: Repeated '00001111' (in transmission order) sequence 7: Repeated '01010101' (in transmission order) sequence Values:<ul>
<li>0x00: PRBS9</li>
<li>0x01: Repeated '11110000'</li>
<li>0x02: Repeated '10101010'</li>
<li>0x03: PRBS15</li>
<li>0x04: Repeated '11111111'</li>
<li>0x05: Repeated '00000000'</li>
<li>0x06: Repeated '00001111'</li>
<li>0x07: Repeated '01010101' </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga44a2b9220f1949b4b5d0b3d19d994143"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_transmitter_test_v3 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>TX_Channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Test_Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Packet_Payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PHY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>CTE_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>CTE_Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Switching_Pattern_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Antenna_IDs</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at the power level indicated by the Transmit_Power_Level parameter. The TX_Channel and PHY parameters specify the RF channel and PHY to be used by the transmitter. If the Host sets the PHY parameter to a PHY that the Controller does not support, including a value that is reserved for future use, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). The Test_Data_Length and Packet_Payload parameters specify the length and contents of the Payload of the test reference packets. An LE Controller supporting the HCI_LE_Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller supporting the LE Coded PHY shall also support Packet_Payload value 0x04. An LE Controller may support other values of Packet_Payload. The CTE_Length and CTE_Type parameters specify the length and type of the Constant Tone Extension in the test reference packets. If the CTE_Type parameter is set to 0x01 and the Controller does not support 1 microsecond switching, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). If CTE_Length is not zero and PHY specifies a PHY that does not allow Constant Tone Extensions, the Controller shall return the error code Command Disallowed (0x0C). The Switching_Pattern_Length and Antenna_IDs[i] parameters specify the antenna switching pattern. They are only used when transmitting an AoD Constant Tone Extension and shall be ignored when transmitting an AoA Constant Tone Extension. If the Controller determines that any of the Antenna_IDs[i] values do not identify an antenna in the device's antenna array, it shall return the error code Unsupported Feature or Parameter Value (0x11). Note: Some Controllers may be unable to determine which values do or do not identify an antenna. The Transmit_Power_Level parameter specifies the transmit power level to be used by the transmitter. If the parameter is set to a value other than 0x7E or 0x7F, then the Controller shall make the requested change or shall make the nearest change that it is capable of doing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TX_Channel</td><td>N = (F - 2402) / 2. Frequency Range : 2402 MHz to 2480 MHz Values:<ul>
<li>0x00 ... 0x27 </li>
</ul>
</td></tr>
    <tr><td class="paramname">Test_Data_Length</td><td>Length in bytes of payload data in each packet </td></tr>
    <tr><td class="paramname">Packet_Payload</td><td>Content of the Payload of the test reference packets. 0: PRBS9 sequence '11111111100000111101...' (in transmission order) 1: Repeated '11110000' (in transmission order) sequence 2: Repeated '10101010' (in transmission order) sequence 3: PRBS15 sequence 4: Repeated '11111111' (in transmission order) sequence 5: Repeated '00000000' (in transmission order) sequence 6: Repeated '00001111' (in transmission order) sequence 7: Repeated '01010101' (in transmission order) sequence Values:<ul>
<li>0x00: PRBS9</li>
<li>0x01: Repeated '11110000'</li>
<li>0x02: Repeated '10101010'</li>
<li>0x03: PRBS15</li>
<li>0x04: Repeated '11111111'</li>
<li>0x05: Repeated '00000000'</li>
<li>0x06: Repeated '00001111'</li>
<li>0x07: Repeated '01010101' </li>
</ul>
</td></tr>
    <tr><td class="paramname">PHY</td><td>PHY to be used by the transmitter. Values:<ul>
<li>0x01: LE_1M_PHY</li>
<li>0x02: LE_2M_PHY</li>
<li>0x03: LE_CODED_PHY_S8</li>
<li>0x04: LE_CODED_PHY_S2 </li>
</ul>
</td></tr>
    <tr><td class="paramname">CTE_Length</td><td>Values:<ul>
<li>0x00: No Constant Tone Extension expected (default)</li>
<li>0x02 ... 0x14: Expected length of the Constant Tone Extension in 8 microseconds units. </li>
</ul>
</td></tr>
    <tr><td class="paramname">CTE_Type</td><td>Values:<ul>
<li>0x00: Expect AoA Constant Tone Extension</li>
<li>0x01: Expect AoD Constant Tone Extension with 1 microsecond slots</li>
<li>0x02: Expect AoD Constant Tone Extension with 2 microseconds slots </li>
</ul>
</td></tr>
    <tr><td class="paramname">Switching_Pattern_Length</td><td>The number of Antenna IDs in the pattern. Values:<ul>
<li>0x02 ... 0x4B </li>
</ul>
</td></tr>
    <tr><td class="paramname">Antenna_IDs</td><td>List of Antenna IDs in the pattern </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9c52f583ebd967699f652dca335254ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> hci_le_transmitter_test_v4 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>TX_Channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Test_Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Packet_Payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PHY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>CTE_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>CTE_Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Switching_Pattern_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Antenna_IDs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>Transmit_Power_Level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to start a test where the DUT generates test reference packets at a fixed interval. The Controller shall transmit at the power level indicated by the Transmit_Power_Level parameter. The TX_Channel and PHY parameters specify the RF channel and PHY to be used by the transmitter. If the Host sets the PHY parameter to a PHY that the Controller does not support, including a value that is reserved for future use, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). The Test_Data_Length and Packet_Payload parameters specify the length and contents of the Payload of the test reference packets. An LE Controller supporting the HCI_LE_Transmitter_Test command shall support Packet_Payload values 0x00, 0x01 and 0x02. An LE Controller supporting the LE Coded PHY shall also support Packet_Payload value 0x04. An LE Controller may support other values of Packet_Payload. The CTE_Length and CTE_Type parameters specify the length and type of the Constant Tone Extension in the test reference packets. If the CTE_Type parameter is set to 0x01 and the Controller does not support 1 microsecond switching, the Controller shall return the error code Unsupported Feature or Parameter Value (0x11). If CTE_Length is not zero and PHY specifies a PHY that does not allow Constant Tone Extensions, the Controller shall return the error code Command Disallowed (0x0C). The Switching_Pattern_Length and Antenna_IDs[i] parameters specify the antenna switching pattern. They are only used when transmitting an AoD Constant Tone Extension and shall be ignored when transmitting an AoA Constant Tone Extension. If the Controller determines that any of the Antenna_IDs[i] values do not identify an antenna in the device's antenna array, it shall return the error code Unsupported Feature or Parameter Value (0x11). Note: Some Controllers may be unable to determine which values do or do not identify an antenna. The Transmit_Power_Level parameter specifies the transmit power level to be used by the transmitter. If the parameter is set to a value other than 0x7E or 0x7F, then the Controller shall make the requested change or shall make the nearest change that it is capable of doing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TX_Channel</td><td>N = (F - 2402) / 2. Frequency Range : 2402 MHz to 2480 MHz Values:<ul>
<li>0x00 ... 0x27 </li>
</ul>
</td></tr>
    <tr><td class="paramname">Test_Data_Length</td><td>Length in bytes of payload data in each packet </td></tr>
    <tr><td class="paramname">Packet_Payload</td><td>Content of the Payload of the test reference packets. 0: PRBS9 sequence '11111111100000111101...' (in transmission order) 1: Repeated '11110000' (in transmission order) sequence 2: Repeated '10101010' (in transmission order) sequence 3: PRBS15 sequence 4: Repeated '11111111' (in transmission order) sequence 5: Repeated '00000000' (in transmission order) sequence 6: Repeated '00001111' (in transmission order) sequence 7: Repeated '01010101' (in transmission order) sequence Values:<ul>
<li>0x00: PRBS9</li>
<li>0x01: Repeated '11110000'</li>
<li>0x02: Repeated '10101010'</li>
<li>0x03: PRBS15</li>
<li>0x04: Repeated '11111111'</li>
<li>0x05: Repeated '00000000'</li>
<li>0x06: Repeated '00001111'</li>
<li>0x07: Repeated '01010101' </li>
</ul>
</td></tr>
    <tr><td class="paramname">PHY</td><td>PHY to be used by the transmitter. Values:<ul>
<li>0x01: LE_1M_PHY</li>
<li>0x02: LE_2M_PHY</li>
<li>0x03: LE_CODED_PHY_S8</li>
<li>0x04: LE_CODED_PHY_S2 </li>
</ul>
</td></tr>
    <tr><td class="paramname">CTE_Length</td><td>Values:<ul>
<li>0x00: No Constant Tone Extension expected (default)</li>
<li>0x02 ... 0x14: Expected length of the Constant Tone Extension in 8 microseconds units. </li>
</ul>
</td></tr>
    <tr><td class="paramname">CTE_Type</td><td>Values:<ul>
<li>0x00: Expect AoA Constant Tone Extension</li>
<li>0x01: Expect AoD Constant Tone Extension with 1 microsecond slots</li>
<li>0x02: Expect AoD Constant Tone Extension with 2 microseconds slots </li>
</ul>
</td></tr>
    <tr><td class="paramname">Switching_Pattern_Length</td><td>Values:<ul>
<li>0x02 ... 0x4B: The number of Antenna IDs in the pattern. </li>
</ul>
</td></tr>
    <tr><td class="paramname">Antenna_IDs</td><td>List of Antenna IDs in the pattern </td></tr>
    <tr><td class="paramname">Transmit_Power_Level</td><td>Values:<ul>
<li>-127 ... 20: Set transmitter to the specified or the nearest transmit power level.</li>
<li>126: Set transmitter to minimum transmit power level</li>
<li>127: Set transmitter to maximum transmit power level </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
