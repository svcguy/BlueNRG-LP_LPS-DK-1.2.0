<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-BLE Stack Library APIs, events callbacks &amp; application framework: HAL Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-BLE Stack Library APIs, events callbacks &amp; application framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HAL Commands<div class="ingroups"><a class="el" href="group___h_a_l.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>HAL API layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7b3b1087da93be369db1b1297ee2cb97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga7b3b1087da93be369db1b1297ee2cb97">aci_hal_get_fw_build_number</a> (uint16_t *Build_Number)</td></tr>
<tr class="memdesc:ga7b3b1087da93be369db1b1297ee2cb97"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command returns the build number associated with the firmware version currently running.  <a href="#ga7b3b1087da93be369db1b1297ee2cb97">More...</a><br /></td></tr>
<tr class="separator:ga7b3b1087da93be369db1b1297ee2cb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa694cc1ba16fb65a85c50acfb0f9d028"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gaa694cc1ba16fb65a85c50acfb0f9d028">aci_hal_write_config_data</a> (uint8_t Offset, uint8_t Length, uint8_t Value[])</td></tr>
<tr class="memdesc:gaa694cc1ba16fb65a85c50acfb0f9d028"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command writes a value to a low level configure data structure. It is useful to setup directly some low level parameters for the system in the runtime.NOTE: This command shall not be called if a command different than Stack Init, HCI_RESET, ACI_HAL_WRITE_CONFIG_DATA or ACI_HAL_READ_CONFIG_DATA has already been called.  <a href="#gaa694cc1ba16fb65a85c50acfb0f9d028">More...</a><br /></td></tr>
<tr class="separator:gaa694cc1ba16fb65a85c50acfb0f9d028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga525ce45a611421ae48dd43c8e32f0b67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga525ce45a611421ae48dd43c8e32f0b67">aci_hal_read_config_data</a> (uint8_t Offset, uint8_t *Data_Length, uint8_t Data[])</td></tr>
<tr class="memdesc:ga525ce45a611421ae48dd43c8e32f0b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command requests the value in the low level configure data structure. The number of read bytes changes for different Offset.  <a href="#ga525ce45a611421ae48dd43c8e32f0b67">More...</a><br /></td></tr>
<tr class="separator:ga525ce45a611421ae48dd43c8e32f0b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d8ce6409d339fcfdad69607cf4f25d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga4d8ce6409d339fcfdad69607cf4f25d8">aci_hal_set_tx_power_level</a> (uint8_t En_High_Power, uint8_t PA_Level)</td></tr>
<tr class="memdesc:ga4d8ce6409d339fcfdad69607cf4f25d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command sets the TX power level of the device for all the radio activities, unless explicitly defined by other commands. The combination of En_High_Power and PA_Level parameters determines the output power level (dBm). When the system starts up or reboots, the default TX power level will be used, which is En_High_Power = 0 and PA_Level = 31. After this command is given, the new output power will be used only for new Link Layer state machines, i.e. for new Bluetooth activities, i.e. new advertising sets, new connections, new scanning procedures. For current activities the output power will not change. The only exception is for AUX_SCAN_REQ and AUX_CONNECT_REQ PDUs, for which the new output power will immediately take effect also for the current scanning procedure.  <a href="#ga4d8ce6409d339fcfdad69607cf4f25d8">More...</a><br /></td></tr>
<tr class="separator:ga4d8ce6409d339fcfdad69607cf4f25d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e145d90c77f62a854d65321d99dfb5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga9e145d90c77f62a854d65321d99dfb5a">aci_hal_le_tx_test_packet_number</a> (uint32_t *Number_Of_Packets)</td></tr>
<tr class="memdesc:ga9e145d90c77f62a854d65321d99dfb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command returns the number of packets sent in Direct Test Mode. When the Direct TX test is started, a 32-bit counter is used to count how many packets have been transmitted. This command can be used to check how many packets have been sent during the Direct TX test. The counter starts from 0 and counts upwards. The counter can wrap and start from 0 again. The counter is not cleared until the next Direct TX test starts.  <a href="#ga9e145d90c77f62a854d65321d99dfb5a">More...</a><br /></td></tr>
<tr class="separator:ga9e145d90c77f62a854d65321d99dfb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace555eb4b9f225d874f946aa920de1f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gace555eb4b9f225d874f946aa920de1f5">aci_hal_tone_start</a> (uint8_t RF_Channel, uint8_t Offset)</td></tr>
<tr class="memdesc:gace555eb4b9f225d874f946aa920de1f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command starts a carrier frequency, i.e. a tone, on a specific channel. The frequency sine wave at the specific channel may be used for debugging purpose only. The channel ID is a parameter from 0x00 to 0x27 for the 40 BLE channels, e.g. 0x00 for 2.402 GHz, 0x01 for 2.404 GHz etc. This command should not be used when normal Bluetooth activities are ongoing. The tone should be stopped by <a class="el" href="group___h_a_l___commands.html#ga77e0497ce0ec8bbb0d9e5495ff6c7027">aci_hal_tone_stop</a> command.  <a href="#gace555eb4b9f225d874f946aa920de1f5">More...</a><br /></td></tr>
<tr class="separator:gace555eb4b9f225d874f946aa920de1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77e0497ce0ec8bbb0d9e5495ff6c7027"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga77e0497ce0ec8bbb0d9e5495ff6c7027">aci_hal_tone_stop</a> (void)</td></tr>
<tr class="memdesc:ga77e0497ce0ec8bbb0d9e5495ff6c7027"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to stop the previously started <a class="el" href="group___h_a_l___commands.html#gace555eb4b9f225d874f946aa920de1f5">aci_hal_tone_start</a> command.  <a href="#ga77e0497ce0ec8bbb0d9e5495ff6c7027">More...</a><br /></td></tr>
<tr class="separator:ga77e0497ce0ec8bbb0d9e5495ff6c7027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed15c252a5203a862f47071fd92af426"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gaed15c252a5203a862f47071fd92af426">aci_hal_get_link_status</a> (uint8_t Bank_index, uint8_t Link_Status[8], uint16_t Link_Connection_Handle[16/2])</td></tr>
<tr class="memdesc:gaed15c252a5203a862f47071fd92af426"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command returns the status of the Bluetooth low energy links managed by the device.  <a href="#gaed15c252a5203a862f47071fd92af426">More...</a><br /></td></tr>
<tr class="separator:gaed15c252a5203a862f47071fd92af426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120ca17ceac401485f6281f2037126b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga120ca17ceac401485f6281f2037126b0">aci_hal_set_radio_activity_mask</a> (uint16_t Radio_Activity_Mask)</td></tr>
<tr class="memdesc:ga120ca17ceac401485f6281f2037126b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command set the bitmask associated to <a class="el" href="group___h_a_l__events.html#ga5be9dbe2c8fc3758a12ee9c5e8a95d86">aci_hal_end_of_radio_activity_event</a>. Only the radio activities enabled in the mask will be reported to application by <a class="el" href="group___h_a_l__events.html#ga5be9dbe2c8fc3758a12ee9c5e8a95d86">aci_hal_end_of_radio_activity_event</a>.  <a href="#ga120ca17ceac401485f6281f2037126b0">More...</a><br /></td></tr>
<tr class="separator:ga120ca17ceac401485f6281f2037126b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b21a27d40d972697c5b63a0f54f8829"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga4b21a27d40d972697c5b63a0f54f8829">aci_hal_set_event_mask</a> (uint32_t Event_Mask)</td></tr>
<tr class="separator:ga4b21a27d40d972697c5b63a0f54f8829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37c07730fef22ac5d4bae20d82136e0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga37c07730fef22ac5d4bae20d82136e0b">aci_hal_set_le_power_control</a> (uint8_t Enable, uint8_t PHY, int8_t RSSI_Target, uint8_t RSSI_Hysteresis, int8_t Initial_TX_Power, uint8_t RSSI_Filtering_Coefficient)</td></tr>
<tr class="memdesc:ga37c07730fef22ac5d4bae20d82136e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command is used to enable or disable the LE Power Control feature and procedure for a given PHY on the later established connections. It also provides the parameters that let the Controller initiate the LE Power Control procedure. In particular, the procedure will be initiated when the current (average) RSSI (say Curr_Avg_RSSI) gets: * Less than (RSSI_Target - RSSI_Hysteresis) and the Controller will request the peer to increase its TX power level for the given PHY by (RSSI_Target - Curr_Avg_RSSI). * Greater than (RSSI_Target + RSSI_Hysteresis) and the Controller will request the peer to decrease its TX power level for the given PHY by (Curr_Avg_RSSI - RSSI_Target). The Controller will start transmitting on the connections for which the power control is enabled and for the given PHY using the Initial_Tx_Power value. It will change its TX power based on the requests or feedbacks from the peer: * If the peer initiates an LE Power Control procedure and requests to increase or decrease the TX power of a given delta, the TX power will be increased or reduced by the requested delta within the acceptable limits. * If the peer reports that it can accept a TX power reduction of a given delta, the TX power will be reduced by the reported delta within the acceptable limits. If this command is not issued, the Controller will use the parameter default values.  <a href="#ga37c07730fef22ac5d4bae20d82136e0b">More...</a><br /></td></tr>
<tr class="separator:ga37c07730fef22ac5d4bae20d82136e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga666ca78158f0a80f0b87dfefc2a2dab9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga666ca78158f0a80f0b87dfefc2a2dab9">aci_hal_write_radio_reg</a> (uint32_t Start_Address, uint8_t Num_Bytes, uint8_t Data[])</td></tr>
<tr class="separator:ga666ca78158f0a80f0b87dfefc2a2dab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8aec481d39857c253bbd275c2f164f35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga8aec481d39857c253bbd275c2f164f35">aci_hal_read_radio_reg</a> (uint32_t Start_Address, uint8_t Num_Bytes, uint8_t *Data_Length, uint8_t Data[])</td></tr>
<tr class="separator:ga8aec481d39857c253bbd275c2f164f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaf421b3bfad78c683ed1e28ae28b972"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gabaf421b3bfad78c683ed1e28ae28b972">aci_hal_get_evt_fifo_max_level</a> (uint16_t *ISR0_FIFO_Max_Level, uint16_t *ISR1_FIFO_Max_Level, uint16_t *User_FIFO_Max_Level)</td></tr>
<tr class="memdesc:gabaf421b3bfad78c683ed1e28ae28b972"><td class="mdescLeft">&#160;</td><td class="mdescRight">This command can be used to get the maximum used size of the stack's internal FIFO queues: isr1_fifo, isr2_fifo and user_fifo. These values can be used to chose the maximum correct size for the queues, which can be set through the <a class="el" href="bluenrg__lp__stack_8h.html#a11812007ec5cb7d6887e3038d3b58fe0" title="The BLE Stack initialization routine. ">BLE_STACK_Init()</a> function. If one of these queues reaches the maximum size, an hci_hardware_error_event is raised, with error code 0x03.  <a href="#gabaf421b3bfad78c683ed1e28ae28b972">More...</a><br /></td></tr>
<tr class="separator:gabaf421b3bfad78c683ed1e28ae28b972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb8bb02371eb7dc24cca16e256a97b62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gadb8bb02371eb7dc24cca16e256a97b62">ll_set_legacy_advertising_data_ptr</a> (uint8_t Data_Length, uint8_t *Data)</td></tr>
<tr class="memdesc:gadb8bb02371eb7dc24cca16e256a97b62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data pointer for legacy advertising data.  <a href="#gadb8bb02371eb7dc24cca16e256a97b62">More...</a><br /></td></tr>
<tr class="separator:gadb8bb02371eb7dc24cca16e256a97b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf38e24bbc4aca372dea841d952f79c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gacf38e24bbc4aca372dea841d952f79c8">ll_set_legacy_scan_reponse_data_ptr</a> (uint8_t Data_Length, uint8_t *Data)</td></tr>
<tr class="memdesc:gacf38e24bbc4aca372dea841d952f79c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data pointer for legacy scan response data.  <a href="#gacf38e24bbc4aca372dea841d952f79c8">More...</a><br /></td></tr>
<tr class="separator:gacf38e24bbc4aca372dea841d952f79c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36aa689381c71f1ed70dc2ec7563a794"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga36aa689381c71f1ed70dc2ec7563a794">ll_set_advertising_data_ptr</a> (uint16_t Advertising_Handle, uint8_t Operation, uint16_t Advertising_Data_Length, uint8_t Advertising_Data[])</td></tr>
<tr class="memdesc:ga36aa689381c71f1ed70dc2ec7563a794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data pointer for extended advertising data.  <a href="#ga36aa689381c71f1ed70dc2ec7563a794">More...</a><br /></td></tr>
<tr class="separator:ga36aa689381c71f1ed70dc2ec7563a794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0da4fa285ba49a3e748e4a39d688fc38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga0da4fa285ba49a3e748e4a39d688fc38">ll_set_scan_reponse_data_ptr</a> (uint16_t Advertising_Handle, uint16_t Scan_Response_Data_Length, uint8_t Scan_Response_Data[])</td></tr>
<tr class="memdesc:ga0da4fa285ba49a3e748e4a39d688fc38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data pointer for extended scan response data.  <a href="#ga0da4fa285ba49a3e748e4a39d688fc38">More...</a><br /></td></tr>
<tr class="separator:ga0da4fa285ba49a3e748e4a39d688fc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2f5db020d2bc56a98c75d72a85b063f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#gab2f5db020d2bc56a98c75d72a85b063f">ll_get_advertising_info</a> (uint16_t Advertising_Handle, BOOL *Adv_Enabled, BOOL *Periodic_Adv_Configured, BOOL *Periodic_Adv_Enabled, uint16_t *Advertising_Event_Properties)</td></tr>
<tr class="memdesc:gab2f5db020d2bc56a98c75d72a85b063f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves info about an existing advertising set.  <a href="#gab2f5db020d2bc56a98c75d72a85b063f">More...</a><br /></td></tr>
<tr class="separator:gab2f5db020d2bc56a98c75d72a85b063f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91bacaacc5ff98387a2f9d8ec09a133d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga91bacaacc5ff98387a2f9d8ec09a133d">ll_set_periodic_advertising_data_ptr</a> (uint16_t Advertising_Handle, uint16_t Advertising_Data_Length, uint8_t Advertising_Data[])</td></tr>
<tr class="memdesc:ga91bacaacc5ff98387a2f9d8ec09a133d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data pointer for periodic extended advertising data.  <a href="#ga91bacaacc5ff98387a2f9d8ec09a133d">More...</a><br /></td></tr>
<tr class="separator:ga91bacaacc5ff98387a2f9d8ec09a133d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cc65795b5505545d2b7c9d4d7cd69d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___commands.html#ga3cc65795b5505545d2b7c9d4d7cd69d4">aci_hal_get_anchor_point</a> (uint16_t Connection_Handle, uint16_t *Event_Counter, uint32_t *Anchor_Point)</td></tr>
<tr class="memdesc:ga3cc65795b5505545d2b7c9d4d7cd69d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the value of the last anchor point for the given connection.  <a href="#ga3cc65795b5505545d2b7c9d4d7cd69d4">More...</a><br /></td></tr>
<tr class="separator:ga3cc65795b5505545d2b7c9d4d7cd69d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>HAL API layer. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3cc65795b5505545d2b7c9d4d7cd69d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_get_anchor_point </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Connection_Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>Event_Counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>Anchor_Point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get the value of the last anchor point for the given connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Connection_Handle</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Event_Counter</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Anchor_Point</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gabaf421b3bfad78c683ed1e28ae28b972"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_get_evt_fifo_max_level </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>ISR0_FIFO_Max_Level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>ISR1_FIFO_Max_Level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>User_FIFO_Max_Level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command can be used to get the maximum used size of the stack's internal FIFO queues: isr1_fifo, isr2_fifo and user_fifo. These values can be used to chose the maximum correct size for the queues, which can be set through the <a class="el" href="bluenrg__lp__stack_8h.html#a11812007ec5cb7d6887e3038d3b58fe0" title="The BLE Stack initialization routine. ">BLE_STACK_Init()</a> function. If one of these queues reaches the maximum size, an hci_hardware_error_event is raised, with error code 0x03. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ISR0_FIFO_Max_Level</td><td>Maximum size reached by the FIFO used for critical controller events produced by the ISR (e.g. rx data packets). See isr0_fifo_size parameter field of <a class="el" href="struct_b_l_e___s_t_a_c_k___init_type_def.html">BLE_STACK_InitTypeDef</a> structure, used by <a class="el" href="bluenrg__lp__stack_8h.html#a11812007ec5cb7d6887e3038d3b58fe0" title="The BLE Stack initialization routine. ">BLE_STACK_Init()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ISR1_FIFO_Max_Level</td><td>Maximum size reached by the FIFO used for non-critical controller events produced by the ISR (e.g. advertising or IQ sampling reports). See isr1_fifo_size parameter field of <a class="el" href="struct_b_l_e___s_t_a_c_k___init_type_def.html">BLE_STACK_InitTypeDef</a> structure, used by <a class="el" href="bluenrg__lp__stack_8h.html#a11812007ec5cb7d6887e3038d3b58fe0" title="The BLE Stack initialization routine. ">BLE_STACK_Init()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">User_FIFO_Max_Level</td><td>Maximum size reached by the FIFO used for controller and host events produced outside the ISR. See user_fifo_size parameter field of <a class="el" href="struct_b_l_e___s_t_a_c_k___init_type_def.html">BLE_STACK_InitTypeDef</a> structure, used by <a class="el" href="bluenrg__lp__stack_8h.html#a11812007ec5cb7d6887e3038d3b58fe0" title="The BLE Stack initialization routine. ">BLE_STACK_Init()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7b3b1087da93be369db1b1297ee2cb97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_get_fw_build_number </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>Build_Number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command returns the build number associated with the firmware version currently running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Build_Number</td><td>Build number of the firmware. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaed15c252a5203a862f47071fd92af426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_get_link_status </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Bank_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Link_Status</em>[8], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Link_Connection_Handle</em>[16/2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command returns the status of the Bluetooth low energy links managed by the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Bank_index</td><td>Index that identifies the link bank. Each bank is made by 8 links. Set Bank_Index to 0 to retrieve the status of the first 8 links, Bank_Index 1 to retrieve the status of the second 8 links and so on. Values:<ul>
<li>0x00 ... 0x15 </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Link_Status</td><td>Array of link status (8 links). Each link status is 1 byte. - 0x00: Idle - 0x01: Advertising - 0x02: Connected as slave<ul>
<li>0x03: Scanning - 0x04: Initiating - 0x05: Connected as master - 0x06: TX test mode - 0x07: RX test mode </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Link_Connection_Handle</td><td>Array of connection handles (2 bytes) for 8 links. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9e145d90c77f62a854d65321d99dfb5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_le_tx_test_packet_number </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>Number_Of_Packets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command returns the number of packets sent in Direct Test Mode. When the Direct TX test is started, a 32-bit counter is used to count how many packets have been transmitted. This command can be used to check how many packets have been sent during the Direct TX test. The counter starts from 0 and counts upwards. The counter can wrap and start from 0 again. The counter is not cleared until the next Direct TX test starts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Number_Of_Packets</td><td>Number of packets sent during the last Direct TX test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga525ce45a611421ae48dd43c8e32f0b67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_read_config_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command requests the value in the low level configure data structure. The number of read bytes changes for different Offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Offset</td><td>Offset of the element in the configuration data structure which has to be read. The valid offsets are: - 0x00: Bluetooth public address, Value length returned: 6 bytes - 0x08: Encryption root key used to derive LTK and CSRK, Value length returned: 16 bytes - 0x18: Identity root key used to derive LTK and CSRK, Value length returned: 16 bytes - 0x2C: Link layer without host (for certification purposes), Value length returned: 1 byte - 0x80: The static random address stored in NVM. Value length returned: 6 bytes (read-only) Values:<ul>
<li>0x00: CONFIG_DATA_PUBADDR_OFFSET</li>
<li>0x08: CONFIG_DATA_ER_OFFSET</li>
<li>0x18: CONFIG_DATA_IR_OFFSET</li>
<li>0x2C: LL_WITHOUT_HOST</li>
<li>0x80: CONFIG_DATA_STORED_STATIC_RANDOM_ADDRESS </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data_Length</td><td>Length of Data in octets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td>Data field associated with Offset parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8aec481d39857c253bbd275c2f164f35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_read_radio_reg </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Start_Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Num_Bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Start_Address</td><td></td></tr>
    <tr><td class="paramdir"></td><td class="paramname">Num_Bytes</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data_Length</td><td>Length of Data in octets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4b21a27d40d972697c5b63a0f54f8829"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_set_event_mask </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Event_Mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event_Mask</td><td>Mask to enable/disable generation of HAL events Flags:<ul>
<li>0x00000000: No events specified (Default)</li>
<li>0x00000001: ACI_HAL_SCAN_REQ_REPORT_EVENT </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga37c07730fef22ac5d4bae20d82136e0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_set_le_power_control </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PHY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>RSSI_Target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>RSSI_Hysteresis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>Initial_TX_Power</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>RSSI_Filtering_Coefficient</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to enable or disable the LE Power Control feature and procedure for a given PHY on the later established connections. It also provides the parameters that let the Controller initiate the LE Power Control procedure. In particular, the procedure will be initiated when the current (average) RSSI (say Curr_Avg_RSSI) gets: * Less than (RSSI_Target - RSSI_Hysteresis) and the Controller will request the peer to increase its TX power level for the given PHY by (RSSI_Target - Curr_Avg_RSSI). * Greater than (RSSI_Target + RSSI_Hysteresis) and the Controller will request the peer to decrease its TX power level for the given PHY by (Curr_Avg_RSSI - RSSI_Target). The Controller will start transmitting on the connections for which the power control is enabled and for the given PHY using the Initial_Tx_Power value. It will change its TX power based on the requests or feedbacks from the peer: * If the peer initiates an LE Power Control procedure and requests to increase or decrease the TX power of a given delta, the TX power will be increased or reduced by the requested delta within the acceptable limits. * If the peer reports that it can accept a TX power reduction of a given delta, the TX power will be reduced by the reported delta within the acceptable limits. If this command is not issued, the Controller will use the parameter default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Enable</td><td>Enable (1) or disable (0) LE power control on following connections. Default: 1. Values:<ul>
<li>0x00: DISABLE</li>
<li>0x01: ENABLE </li>
</ul>
</td></tr>
    <tr><td class="paramname">PHY</td><td>PHY on which the power control must be enabled or disabled. Values:<ul>
<li>0x01: LE_1M_PHY</li>
<li>0x02: LE_2M_PHY</li>
<li>0x03: LE_CODED_PHY_S8</li>
<li>0x04: LE_CODED_PHY_S2 </li>
</ul>
</td></tr>
    <tr><td class="paramname">RSSI_Target</td><td>Target RSSI in dBm. Default: -55 dBm. </td></tr>
    <tr><td class="paramname">RSSI_Hysteresis</td><td>Hysteresis applied on the target RSSI in dB. Default: 15 dB. </td></tr>
    <tr><td class="paramname">Initial_TX_Power</td><td>Initial TX power in dBm. Default: max TX power supported by the platform. </td></tr>
    <tr><td class="paramname">RSSI_Filtering_Coefficient</td><td>Coefficient used for the filtering of the RSSI samples and the calculation of the average RSSI. Allowed values are from 0 (fast moving average, low accuracy, max weight of last RSSI) to 4 (slow moving average, high accuracy, min weight of last RSSI). Default: 2. Values:<ul>
<li>0x00 ... 0x04 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga120ca17ceac401485f6281f2037126b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_set_radio_activity_mask </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Radio_Activity_Mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command set the bitmask associated to <a class="el" href="group___h_a_l__events.html#ga5be9dbe2c8fc3758a12ee9c5e8a95d86">aci_hal_end_of_radio_activity_event</a>. Only the radio activities enabled in the mask will be reported to application by <a class="el" href="group___h_a_l__events.html#ga5be9dbe2c8fc3758a12ee9c5e8a95d86">aci_hal_end_of_radio_activity_event</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Radio_Activity_Mask</td><td>Bitmask of radio events Flags:<ul>
<li>0x0001: Idle</li>
<li>0x0002: Advertising</li>
<li>0x0004: Connection event slave</li>
<li>0x0008: Scanning</li>
<li>0x0010: Connection request</li>
<li>0x0020: Connection event master</li>
<li>0x0040: TX test mode</li>
<li>0x0080: RX test mode </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4d8ce6409d339fcfdad69607cf4f25d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_set_tx_power_level </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>En_High_Power</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>PA_Level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command sets the TX power level of the device for all the radio activities, unless explicitly defined by other commands. The combination of En_High_Power and PA_Level parameters determines the output power level (dBm). When the system starts up or reboots, the default TX power level will be used, which is En_High_Power = 0 and PA_Level = 31. After this command is given, the new output power will be used only for new Link Layer state machines, i.e. for new Bluetooth activities, i.e. new advertising sets, new connections, new scanning procedures. For current activities the output power will not change. The only exception is for AUX_SCAN_REQ and AUX_CONNECT_REQ PDUs, for which the new output power will immediately take effect also for the current scanning procedure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">En_High_Power</td><td>Enable High Power mode. High power mode should be enabled only to reach the maximum output power. Normal power (0x00) is the default. Values:<ul>
<li>0x00: Normal Power</li>
<li>0x01: High Power </li>
</ul>
</td></tr>
    <tr><td class="paramname">PA_Level</td><td>Power amplifier output level. The output power is different depending on En_High_Power. If En_High_Power is set to 0, the SMPS level is set to 1.4V. if set to 1, the SMPS level is set to 1.9V and the LDO for the PA is bypassed during TX: this produces an higher output power. If En_High_Power = 1 and SMPS is disabled the LDO is bypassed but the actual output power will depend on the voltage applied to the VFBSD pin. In this case it is recommended to change the TX output levels specified in the high_power_pa_level_table. The real output power may also depend on PCB layout and associated components. The default value is 31. Values:<ul>
<li>0: -54/-54 dBm</li>
<li>1: -21/-19 dBm</li>
<li>2: -20/-18 dBm</li>
<li>3: -19/-17 dBm</li>
<li>4: -17/-16 dBm</li>
<li>5: -16/-15 dBm</li>
<li>6: -15/-14 dBm</li>
<li>7: -14/-13 dBm</li>
<li>8: -13/-12 dBm</li>
<li>9: -12/-11 dBm</li>
<li>10: -11/-10 dBm</li>
<li>11: -10/-9 dBm</li>
<li>12: -9/-8 dBm</li>
<li>13: -8/-7 dBm</li>
<li>14: -7/-6 dBm</li>
<li>15: -6/-5 dBm</li>
<li>16: -6/-4 dBm</li>
<li>17: -4/-3 dBm</li>
<li>18: -3/-3 dBm</li>
<li>19: -3/-2 dBm</li>
<li>20: -2/-1 dBm</li>
<li>21: -2/+0 dBm</li>
<li>22: -1/+1 dBm</li>
<li>23: -1/+2 dBm</li>
<li>24: +0/+3 dBm</li>
<li>25: +0/+8 dBm</li>
<li>26: +1/+8 dBm</li>
<li>27: +2/+8 dBm</li>
<li>28: +3/+8 dBm</li>
<li>29: +4/+8 dBm</li>
<li>30: +5/+8 dBm</li>
<li>31: +6/+8 dBm </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gace555eb4b9f225d874f946aa920de1f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_tone_start </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>RF_Channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command starts a carrier frequency, i.e. a tone, on a specific channel. The frequency sine wave at the specific channel may be used for debugging purpose only. The channel ID is a parameter from 0x00 to 0x27 for the 40 BLE channels, e.g. 0x00 for 2.402 GHz, 0x01 for 2.404 GHz etc. This command should not be used when normal Bluetooth activities are ongoing. The tone should be stopped by <a class="el" href="group___h_a_l___commands.html#ga77e0497ce0ec8bbb0d9e5495ff6c7027">aci_hal_tone_stop</a> command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RF_Channel</td><td>BLE Channel ID, from 0x00 to 0x27 meaning (2.402 + 2*0xXX) GHz. Values:<ul>
<li>0x00 ... 0x27 </li>
</ul>
</td></tr>
    <tr><td class="paramname">Offset</td><td>Specify if the tone must be emitted with an offset from the channel center frequency. If 0, the tone is emitted at the channel center frequency. If 1 or 2, the device will continuously emit the tone at the center frequency plus or minus 250 kHz respectively. Values:<ul>
<li>0x00: 0 kHz offset</li>
<li>0x01: +250 kHz offset</li>
<li>0x02: -250 kHz offset </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga77e0497ce0ec8bbb0d9e5495ff6c7027"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_tone_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command is used to stop the previously started <a class="el" href="group___h_a_l___commands.html#gace555eb4b9f225d874f946aa920de1f5">aci_hal_tone_start</a> command. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa694cc1ba16fb65a85c50acfb0f9d028"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_write_config_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Value</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This command writes a value to a low level configure data structure. It is useful to setup directly some low level parameters for the system in the runtime.NOTE: This command shall not be called if a command different than Stack Init, HCI_RESET, ACI_HAL_WRITE_CONFIG_DATA or ACI_HAL_READ_CONFIG_DATA has already been called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Offset</td><td>Offset of the element in the configuration data structure which has to be written. The valid offsets are: - 0x00: Bluetooth public address, Value length to be written: 6 bytes - 0x08: Encryption root key used to derive LTK and CSRK, Value length to be written: 16 bytes<ul>
<li>0x18: Identity root key used to derive LTK and CSRK, Value length to be written: 16 bytes - 0x2C: Link layer without host (for certification purposes), Value length to be written: 1 byte - 0x2E: If set, the stack uses this address as the static random address instead of the one stored in NVM. - 0x2F: Value is a bit field that indicates the advertising channel indices that shall be used when scanning. At least one channel bit shall be set. Bit 0: ch. 37; bit 1: ch. 38; bit 2: ch 39. - 0xD0: Use debug key for Secure connection: 1 byte - 0xD1: Set the maximum allowed parameter values for Data Length Extension: 8 bytes, 2 bytes for each of the following parameters: supportedMaxTxOctets, supportedMaxTxTime, supportedMaxRxOctets, supportedMaxRxTime, in little-endian order. (default 251,2120,251,2120). Values:</li>
<li>0x00: CONFIG_DATA_PUBADDR_OFFSET</li>
<li>0x08: CONFIG_DATA_ER_OFFSET</li>
<li>0x18: CONFIG_DATA_IR_OFFSET</li>
<li>0x2C: LL_WITHOUT_HOST</li>
<li>0x2E: CONFIG_DATA_STATIC_RANDOM_ADDRESS</li>
<li>0x2F: CONFIG_DATA_SCAN_CH_MAP</li>
<li>0xD0: CONFIG_DATA_DEBUG_KEY</li>
<li>0xD1: CONFIG_DATA_DLE </li>
</ul>
</td></tr>
    <tr><td class="paramname">Length</td><td>Length of data to be written </td></tr>
    <tr><td class="paramname">Value</td><td>Data to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga666ca78158f0a80f0b87dfefc2a2dab9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> aci_hal_write_radio_reg </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Start_Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Num_Bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Start_Address</td><td></td></tr>
    <tr><td class="paramname">Num_Bytes</td><td>Length of Data in octets </td></tr>
    <tr><td class="paramname">Data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab2f5db020d2bc56a98c75d72a85b063f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> ll_get_advertising_info </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Advertising_Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL *&#160;</td>
          <td class="paramname"><em>Adv_Enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL *&#160;</td>
          <td class="paramname"><em>Periodic_Adv_Configured</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL *&#160;</td>
          <td class="paramname"><em>Periodic_Adv_Enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>Advertising_Event_Properties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves info about an existing advertising set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Advertising_Handle</td><td>Used to identify an advertising set. Values:<ul>
<li>0x0000 ... 0x00EF </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Adv_Enabled</td><td>It is 1 (TRUE) if advertising is enabled for the given advertising handle, 0 (FALSE) otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Periodic_Adv_Configured</td><td>It is 1 (TRUE) if periodic advertising has been configured for the given advertising handle, 0 (FALSE) otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Periodic_Adv_Enabled</td><td>It is 1 (TRUE) if periodic advertising has been enabled for the given advertising handle, 0 (FALSE) otherwise. Note: periodic advertising may be enabled but not started; in this case Adv_Enabled is false and Periodic_Adv_Enable is true. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Advertising_Event_Properties</td><td>Advertising event properties that have been previously set for the advertising set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga36aa689381c71f1ed70dc2ec7563a794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> ll_set_advertising_data_ptr </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Advertising_Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Advertising_Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Advertising_Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data pointer for extended advertising data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Advertising_Handle</td><td>Used to identify an advertising set. This parameter is only meaningful if Extended Advertising Feature is enabled. Values:<ul>
<li>0x0000 ... 0x00EF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Operation</td><td>If set to Unchanged data, just update the Advertising DID. Values:<ul>
<li>0x03: Complete data</li>
<li>0x04: Unchanged data </li>
</ul>
</td></tr>
    <tr><td class="paramname">Advertising_Data_Length</td><td>Length of advertising data. </td></tr>
    <tr><td class="paramname">Advertising_Data</td><td>Pointer to the buffer containing properly formatted advertising data (see Core v5.2 Vol 3, part C, chapter 11). Its content must not change, until an aci_hal_adv_scan_resp_data_update_event is received, which informs the application that the buffer is no more used by the Bluetooth stack. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadb8bb02371eb7dc24cca16e256a97b62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> ll_set_legacy_advertising_data_ptr </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data pointer for legacy advertising data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Data_Length</td><td></td></tr>
    <tr><td class="paramname">Data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacf38e24bbc4aca372dea841d952f79c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> ll_set_legacy_scan_reponse_data_ptr </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data pointer for legacy scan response data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Data_Length</td><td></td></tr>
    <tr><td class="paramname">Data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga91bacaacc5ff98387a2f9d8ec09a133d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> ll_set_periodic_advertising_data_ptr </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Advertising_Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Advertising_Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Advertising_Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data pointer for periodic extended advertising data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Advertising_Handle</td><td>Used to identify an advertising set. This parameter is only meaningful if Extended Advertising Feature is enabled. Values:<ul>
<li>0x0000 ... 0x00EF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Advertising_Data_Length</td><td>Length of periodic advertising data. </td></tr>
    <tr><td class="paramname">Advertising_Data</td><td>Pointer to the buffer containing properly formatted periodic advertising data (see Core v5.2 Vol 3, part C, chapter 11). Its content must not change, until an aci_hal_adv_scan_resp_data_update_event is received, which informs the application that the buffer is no more used by the Bluetooth stack. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0da4fa285ba49a3e748e4a39d688fc38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ble__status_8h.html#a8779d2636708789450ed52739b4e74f3">tBleStatus</a> ll_set_scan_reponse_data_ptr </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Advertising_Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Scan_Response_Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Scan_Response_Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data pointer for extended scan response data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Advertising_Handle</td><td>Used to identify an advertising set. This parameter is only meaningful if Extended Advertising Feature is enabled. Values:<ul>
<li>0x0000 ... 0x00EF </li>
</ul>
</td></tr>
    <tr><td class="paramname">Scan_Response_Data_Length</td><td>Length of scan response data. If the advertising set uses scannable legacy advertising PDUs maximum length is 31 octets. </td></tr>
    <tr><td class="paramname">Scan_Response_Data</td><td>Pointer to the buffer containing properly formatted scan response data (see Core v5.1 Vol 3, part C, chapter 11). Its content must not change, until an aci_hal_adv_scan_resp_data_update_event is received, which informs the application that the buffer is no more used by the Bluetooth stack. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Value</td><td>indicating success or error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2022 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
